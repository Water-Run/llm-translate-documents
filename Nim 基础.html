<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Asciidoctor 2.0.23" />
        <title>Nim 基础</title>
        <style>
            /* Font Awesome 图标 */
            @font-face {
                font-family: "FontAwesome";
                src: url("data:font/woff2;base64,");
                font-weight: normal;
                font-style: normal;
            }
            .fa {
                display: inline-block;
                font: normal normal normal 14px/1 FontAwesome;
                font-size: inherit;
                text-rendering: auto;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            /* 代码高亮 - Gruvbox 主题 */
            pre.rouge table td {
                padding: 5px;
            }
            pre.rouge table pre {
                margin: 0;
            }
            pre.rouge,
            pre.rouge .w {
                color: #fbf1c7;
                background-color: #282828;
            }
            pre.rouge .err {
                color: #fb4934;
                background-color: #282828;
                font-weight: bold;
            }
            pre.rouge .c,
            pre.rouge .ch,
            pre.rouge .cd,
            pre.rouge .cm,
            pre.rouge .cpf,
            pre.rouge .c1,
            pre.rouge .cs {
                color: #928374;
                font-style: italic;
            }
            pre.rouge .cp {
                color: #8ec07c;
            }
            pre.rouge .nt {
                color: #fb4934;
            }
            pre.rouge .o,
            pre.rouge .ow {
                color: #fbf1c7;
            }
            pre.rouge .p,
            pre.rouge .pi {
                color: #fbf1c7;
            }
            pre.rouge .gi {
                color: #b8bb26;
                background-color: #282828;
            }
            pre.rouge .gd {
                color: #fb4934;
                background-color: #282828;
            }
            pre.rouge .gh {
                color: #b8bb26;
                font-weight: bold;
            }
            pre.rouge .ge {
                font-style: italic;
            }
            pre.rouge .ges {
                font-weight: bold;
                font-style: italic;
            }
            pre.rouge .gs {
                font-weight: bold;
            }
            pre.rouge .k,
            pre.rouge .kn,
            pre.rouge .kp,
            pre.rouge .kr,
            pre.rouge .kv {
                color: #fb4934;
            }
            pre.rouge .kc {
                color: #d3869b;
            }
            pre.rouge .kt {
                color: #fabd2f;
            }
            pre.rouge .kd {
                color: #fe8019;
            }
            pre.rouge .s,
            pre.rouge .sb,
            pre.rouge .sc,
            pre.rouge .dl,
            pre.rouge .sd,
            pre.rouge .s2,
            pre.rouge .sh,
            pre.rouge .sx,
            pre.rouge .s1 {
                color: #b8bb26;
                font-style: italic;
            }
            pre.rouge .si {
                color: #b8bb26;
                font-style: italic;
            }
            pre.rouge .sr {
                color: #b8bb26;
                font-style: italic;
            }
            pre.rouge .sa {
                color: #fb4934;
            }
            pre.rouge .se {
                color: #fe8019;
            }
            pre.rouge .nn {
                color: #8ec07c;
            }
            pre.rouge .nc {
                color: #8ec07c;
            }
            pre.rouge .no {
                color: #d3869b;
            }
            pre.rouge .na {
                color: #b8bb26;
            }
            pre.rouge .m,
            pre.rouge .mb,
            pre.rouge .mf,
            pre.rouge .mh,
            pre.rouge .mi,
            pre.rouge .il,
            pre.rouge .mo,
            pre.rouge .mx {
                color: #d3869b;
            }
            pre.rouge .ss {
                color: #83a598;
            }

            /* 主样式 */
            table {
                border-collapse: separate;
                border-spacing: 0.2em 0.6em;
                font-size: 1.06em;
            }

            *,
            *:before,
            *:after {
                box-sizing: border-box;
                -moz-box-sizing: border-box;
                -webkit-box-sizing: border-box;
            }

            #header,
            #content,
            #footnotes,
            #footer {
                width: 100%;
                margin-left: auto;
                margin-right: auto;
                max-width: 45em;
                position: relative;
                padding-left: 1em;
                padding-right: 1em;
            }

            body {
                background: #fcfaf7;
                color: #010d11;
                text-align: justify;
                margin-top: -1.8em;
                font-family:
                    "Fira Sans", "Open Sans", "Noto Sans", "DejaVu Sans",
                    sans-serif;
                line-height: 1.5;
                tab-size: 4;
                -moz-osx-font-smoothing: grayscale;
                -webkit-font-smoothing: antialiased;
            }

            h1,
            h2,
            h3,
            #toctitle,
            .sidebarblock > .content > .title,
            h4,
            h5,
            h6 {
                font-weight: 600;
                font-style: normal;
                color: #cb4b16;
                margin-top: 2.5em;
            }

            h1 {
                margin-top: 4em;
            }

            h3 {
                font-style: italic;
            }

            code {
                font-family:
                    "Fira Mono", "Hack", "Noto Sans Mono", "DejaVu Sans Mono",
                    monospace;
                font-size: 0.9em;
                font-weight: 400;
            }

            a {
                color: #268bd2;
                text-decoration-color: #7daed1;
            }

            a:hover,
            a:focus {
                color: #cb4b16;
                text-decoration-color: #cb4b16;
            }

            p {
                font-size: 1.25em;
                text-rendering: optimizeLegibility;
            }

            *:not(pre) > code {
                padding: 0em 0.35ex;
                background-color: #e5e7e8;
                border-radius: 6px;
                -webkit-border-radius: 6px;
                word-wrap: break-word;
            }

            pre.rouge {
                padding: 1em;
            }

            pre,
            pre > code {
                line-height: 1.3;
                font-family:
                    "Fira Mono", "Hack", "Noto Sans Mono", "DejaVu Sans Mono",
                    monospace;
                font-size: 1em;
                border-radius: 12px;
                -webkit-border-radius: 12px;
            }

            .admonitionblock td.icon [class^="fa icon-"] {
                font-size: 2.5em;
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            }

            .admonitionblock > table td.icon {
                text-align: center;
                width: 80px;
            }

            .admonitionblock td.icon .icon-note:before {
                content: "📝";
                font-style: normal;
            }

            .admonitionblock td.icon .icon-warning:before {
                content: "⚠️";
                font-style: normal;
            }

            .literalblock pre,
            .listingblock pre:not(.highlight),
            .listingblock pre[class="highlight"],
            .listingblock pre[class^="highlight "],
            .listingblock pre.CodeRay,
            .listingblock pre.prettyprint {
                background: #eeebe2;
                padding: 10px;
            }

            .listingblock > .title {
                line-height: 1;
                font-size: 1em;
                color: #cb4b16;
                font-weight: 400;
                font-style: italic;
                margin-bottom: -0.5em;
            }

            .conum[data-value] {
                display: inline-block;
                color: #fcfaf7;
                background-color: #7b868a;
                border-radius: 5px;
                -webkit-border-radius: 5px;
                text-align: center;
                font-size: 0.8em;
                width: 3em;
                line-height: 1.5em;
                margin-right: 1em;
                font-style: normal;
                font-weight: bold;
            }

            hr {
                border: solid #7b868a;
                border-width: 1px 0 0;
                margin-top: 5em;
            }

            em,
            i {
                font-style: italic;
                line-height: inherit;
            }

            strong,
            b {
                font-weight: bold;
                line-height: inherit;
            }

            .conum[data-value] + b {
                display: none;
            }

            .conum[data-value]:after {
                content: attr(data-value);
            }

            pre .conum[data-value] {
                position: relative;
                top: -0.125em;
            }

            b.conum * {
                color: inherit !important;
            }

            li p {
                margin-top: -0.5em;
                padding-left: 0.5em;
            }

            @media only screen and (min-width: 850px) {
                body.toc2 {
                    padding-left: 17em;
                    margin-top: -5em;
                }

                #toc.toc2 {
                    background: #fcfaf7;
                    position: fixed;
                    width: 17em;
                    left: 0;
                    top: 0;
                    border-right: 2px solid #efefed;
                    padding: 0.5em;
                    height: 100%;
                    overflow: auto;
                }
            }

            #toc.toc2 #toctitle {
                margin-top: 0;
                margin-bottom: 0.8rem;
                font-size: 1.25em;
            }
            #toc.toc2 > ul {
                font-size: 0.875em;
                padding-left: 0.5em;
            }

            #toc.toc2 ul ul {
                padding-left: 0.5em;
            }

            #toc.toc2 a {
                text-decoration: none;
            }

            #toc.toc2 li {
                margin-left: 0.5em;
                margin-top: 0em;
                margin-bottom: 0em;
                text-align: left;
            }

            /* 翻译信息卡片样式 */
            .translation-info {
                background: #f8f9fa;
                border: 1px solid #e1e4e8;
                border-left: 4px solid #0366d6;
                border-radius: 6px;
                padding: 1.25em 1.5em;
                margin: 2em 0;
                font-size: 0.95em;
            }

            .translation-info h4 {
                margin: 0 0 0.75em 0;
                color: #24292e;
                font-size: 1.1em;
                font-weight: 600;
            }

            .translation-info p {
                margin: 0.4em 0;
                font-size: 0.95em;
                color: #586069;
            }

            .translation-info a {
                color: #0366d6;
                text-decoration: none;
            }

            .translation-info a:hover {
                text-decoration: underline;
            }

            .translation-info .quick-link {
                display: inline-block;
                margin-top: 0.75em;
                padding: 0.4em 0.8em;
                background: #0366d6;
                color: #fff !important;
                border-radius: 4px;
                font-size: 0.9em;
            }

            .translation-info .quick-link:hover {
                background: #0256b9;
                text-decoration: none;
            }
        </style>
    </head>
    <body class="book toc2 toc-left">
        <div id="header">
            <h1>Nim 基础</h1>
            <div id="toc" class="toc2">
                <div id="toctitle">目录</div>
                <ul class="sectlevel1">
                    <li><a href="#_who_is_this_for">本教程适合谁？</a></li>
                    <li>
                        <a href="#_who_is_this_not_for"
                            >本教程<em>不</em>适合谁？</a
                        >
                    </li>
                    <li>
                        <a href="#_how_to_use_this_tutorial"
                            >如何使用本教程？</a
                        >
                    </li>
                    <li>
                        <a href="#_installation">安装</a>
                        <ul class="sectlevel1">
                            <li><a href="#_installing_nim">安装 Nim</a></li>
                            <li>
                                <a href="#_installing_additional_tools"
                                    >安装额外工具</a
                                >
                            </li>
                            <li>
                                <a href="#_testing_the_installation"
                                    >测试安装</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_naming_values">命名值</a>
                        <ul class="sectlevel1">
                            <li>
                                <a href="#_variable_declaration">变量声明</a>
                            </li>
                            <li>
                                <a href="#_immutable_assignment">不可变赋值</a>
                                <ul class="sectlevel2">
                                    <li><a href="#_const">Const</a></li>
                                    <li><a href="#_let">Let</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_basic_data_types">基本数据类型</a>
                        <ul class="sectlevel1">
                            <li><a href="#_integers">整数</a></li>
                            <li>
                                <a href="#_floats">浮点数</a>
                                <ul class="sectlevel2">
                                    <li>
                                        <a
                                            href="#_converting_floats_and_integers"
                                            >浮点数和整数转换</a
                                        >
                                    </li>
                                </ul>
                            </li>
                            <li><a href="#_characters">字符</a></li>
                            <li>
                                <a href="#_strings">字符串</a>
                                <ul class="sectlevel2">
                                    <li>
                                        <a href="#_special_characters"
                                            >特殊字符</a
                                        >
                                    </li>
                                    <li>
                                        <a href="#_string_concatenation"
                                            >字符串拼接</a
                                        >
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#_boolean">布尔值</a>
                                <ul class="sectlevel2">
                                    <li>
                                        <a href="#_relational_operators"
                                            >关系运算符</a
                                        >
                                    </li>
                                    <li>
                                        <a href="#_logical_operators"
                                            >逻辑运算符</a
                                        >
                                    </li>
                                </ul>
                            </li>
                            <li><a href="#_recap">小结</a></li>
                            <li><a href="#_exercises">练习</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_control_flow">控制流</a>
                        <ul class="sectlevel1">
                            <li>
                                <a href="#_if_statement">If 语句</a>
                                <ul class="sectlevel2">
                                    <li><a href="#_else">Else</a></li>
                                    <li><a href="#_elif">Elif</a></li>
                                </ul>
                            </li>
                            <li><a href="#_case">Case</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_loops">循环</a>
                        <ul class="sectlevel1">
                            <li><a href="#_for_loop">For 循环</a></li>
                            <li><a href="#_while_loop">While 循环</a></li>
                            <li>
                                <a href="#_break_and_continue"
                                    >Break 和 Continue</a
                                >
                            </li>
                            <li><a href="#_exercises_2">练习</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_containers">容器</a>
                        <ul class="sectlevel1">
                            <li><a href="#_arrays">数组</a></li>
                            <li><a href="#_sequences">序列</a></li>
                            <li>
                                <a href="#_indexing_and_slicing">索引和切片</a>
                            </li>
                            <li><a href="#_tuples">元组</a></li>
                            <li><a href="#_exercises_3">练习</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_procedures">过程</a>
                        <ul class="sectlevel1">
                            <li>
                                <a href="#_declaring_a_procedure">声明过程</a>
                            </li>
                            <li>
                                <a href="#_calling_the_procedures">调用过程</a>
                            </li>
                            <li><a href="#_result_variable">Result 变量</a></li>
                            <li>
                                <a href="#_forward_declaration">前向声明</a>
                            </li>
                            <li><a href="#_exercises_4">练习</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_modules">模块</a>
                        <ul class="sectlevel1">
                            <li><a href="#_importing_a_module">导入模块</a></li>
                            <li>
                                <a href="#_creating_our_own">创建自己的模块</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_interacting_with_user_input"
                            >与用户输入交互</a
                        >
                        <ul class="sectlevel1">
                            <li>
                                <a href="#_reading_from_a_file">从文件读取</a>
                            </li>
                            <li>
                                <a href="#_reading_user_input">读取用户输入</a>
                            </li>
                            <li>
                                <a href="#_dealing_with_numbers">处理数字</a>
                            </li>
                            <li><a href="#_exercises_5">练习</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#_conclusion">结语</a>
                        <ul class="sectlevel1">
                            <li><a href="#_next_steps">下一步</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <div id="content">
            <div id="preamble">
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            <a href="https://nim-lang.org/">Nim</a>
                            是一种相对较新的编程语言，它允许用户编写易于阅读的高性能代码。但如果你正在阅读这篇
                            Nim 教程，很可能你已经了解 Nim 了。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            本教程同时提供<a
                                href="https://narimiran.github.io/nim-basics/"
                                >在线版本</a
                            >和
                            <a
                                href="https://github.com/narimiran/nim-basics/raw/master/nim-basics.epub"
                                >epub 电子书格式</a
                            >。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            这是一个正在进行中的项目：如果你发现任何错误和/或有改进本教程的想法，请向<a
                                href="https://github.com/narimiran/nim-basics/issues"
                                >问题跟踪器</a
                            >报告。
                        </p>
                    </div>

                    <div class="translation-info">
                        <h4>翻译信息</h4>
                        <p><strong>译者：</strong>WaterRun</p>
                        <p><strong>模型：</strong>Claude Opus 4.5</p>
                        <p>
                            <strong>GitHub：</strong
                            ><a
                                href="https://github.com/Water-Run/llm-translate-documents"
                                >https://github.com/Water-Run/llm-translate-documents</a
                            >
                        </p>
                        <a
                            class="quick-link"
                            href="https://learnxinyminutes.com/zh-cn/nim/"
                            >5分钟上手 Nim →</a
                        >
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_who_is_this_for">本教程适合谁？</h2>
                <div class="sectionbody">
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>没有或只有很少编程经验的人</p>
                            </li>
                            <li>
                                <p>有其他编程语言经验的人</p>
                            </li>
                            <li>
                                <p>想要从零开始探索 Nim 的人</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_who_is_this_not_for">本教程<em>不</em>适合谁？</h2>
                <div class="sectionbody">
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>
                                    有丰富编程经验的人：其他更高级的教程可能更适合你。参见<a
                                        href="https://nim-lang.org/docs/tut1.html"
                                        >官方教程</a
                                    >或
                                    <a href="https://nim-by-example.github.io/"
                                        >Nim by Example</a
                                    >。
                                </p>
                            </li>
                            <li>
                                <p>有 Nim 经验的人（欢迎帮助改进本教程）</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_how_to_use_this_tutorial">如何使用本教程？</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            本教程的目的是为你提供编程基础和 Nim
                            语法知识，这样你就可以更轻松地跟进其他教程和/或自己进一步探索。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            与其只是阅读内容，最好是自己动手尝试，修改示例，思考一些自己的例子，总之保持好奇心。某些章节末尾的练习应该是必做的——不要跳过它们。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你需要额外帮助来理解教程的某些部分或完成练习，你可以随时在
                            <a href="https://forum.nim-lang.org/">Nim 论坛</a
                            >、<a href="https://gitter.im/nim-lang/Nim"
                                >Nim Gitter 频道</a
                            >、他们的
                            <a href="https://discordapp.com/invite/ezDFDw2"
                                >Discord 服务器</a
                            >或 freenode 上的 Nim IRC 频道 #nim 寻求帮助。
                        </p>
                    </div>
                </div>
            </div>
            <h1 id="_installation" class="sect0">安装</h1>
            <div class="sect1">
                <h2 id="_installing_nim">安装 Nim</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            Nim 为所有三大操作系统都提供了现成的发行版，安装 Nim
                            有多种选择。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            你可以按照<a
                                href="https://nim-lang.org/install.html"
                                >官方安装流程</a
                            >安装最新的稳定版本，或者使用名为
                            <a href="https://github.com/nim-lang/choosenim"
                                >choosenim</a
                            >
                            的工具，它可以让你在稳定版和最新开发版之间轻松切换，以便你体验最新的功能和错误修复。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            无论你选择哪种方式，只需按照每个链接中解释的安装流程操作，Nim
                            就应该安装好了。我们将在后面的章节中检查安装是否成功。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你使用的是 Linux，你的发行版很可能在包管理器中有
                            Nim。如果你用这种方式安装，请确保它是最新版本（查看网站了解最新版本），否则请使用上面提到的两种方法之一安装。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在本教程中，我们将使用稳定版本。最初，本教程是为 Nim
                            0.19（2018年9月发布）编写的，它应该适用于任何更新的版本，包括
                            Nim 1.x 和 Nim 2.x。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_installing_additional_tools">安装额外工具</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            你可以在任何文本编辑器中编写 Nim
                            代码，然后从终端编译和运行它。如果你想要语法高亮和代码补全，有一些流行的代码编辑器插件可以提供这些功能。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            大多数 Nim 用户更喜欢
                            <a href="https://code.visualstudio.com/">VS Code</a>
                            编辑器，配合
                            <a
                                href="https://marketplace.visualstudio.com/items?itemName=NimLang.nimlang"
                                >Nim 扩展</a
                            >提供语法高亮和代码补全，以及
                            <a
                                href="https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner"
                                >Code Runner 扩展</a
                            >用于快速编译和运行。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            作者个人使用
                            <a href="https://neovim.io/">NeoVim</a>
                            编辑器，配合<a
                                href="https://github.com/alaviss/nim.nvim"
                                >这个插件</a
                            >提供语法高亮和代码补全等附加功能。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你使用其他代码编辑器，请参阅
                            <a
                                href="https://github.com/nim-lang/Nim/wiki/Editor-Support"
                                >wiki</a
                            >
                            了解可用的编辑器支持。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_testing_the_installation">测试安装</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            为了检查安装是否成功，我们将编写一个传统上用作入门示例的程序：<a
                                href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program"
                                >Hello World</a
                            >。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在 Nim
                            中打印（指在屏幕上显示；不是用打印机打在纸上）<code
                                >Hello World!</code
                            >
                            这个短语很简单，不需要任何样板代码。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在一个新的文本文件（例如命名为
                            <code>helloworld.nim</code
                            >）中，我们只需要写一行代码：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">helloworld.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">echo</span> <span class="s">"Hello World!"</span></code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        你想打印的短语必须跟在
                                        <code>echo</code>
                                        命令之后，并且必须用双引号（<code>"</code>）括起来。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            首先我们需要编译程序，然后运行它，看看它是否按预期工作。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在文件所在的目录中打开终端（在 Linux
                            上，如果你在文件管理器中右键单击目录，可以选择"在此打开终端"；在
                            Windows 上，你需要使用 Shift +
                            右键单击才能看到打开命令行的菜单选项）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>我们通过在终端中输入以下命令来编译程序：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="terminal"><span class="go">nim c helloworld.nim</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            编译成功后，我们就可以运行程序了。在 Linux
                            上，我们可以通过在终端中输入
                            <code>./helloworld</code> 来运行程序，在 Windows
                            上，我们输入 <code>helloworld.exe</code>。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            还有一种可以用一条命令同时编译和运行程序的方式。我们需要输入：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="terminal"><span class="go">nim c -r helloworld.nim</span></code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        <code>c</code> 告诉 Nim 编译文件，<code
                                            >-r</code
                                        >
                                        告诉它立即运行。<br />
                                        要查看所有编译器选项，在终端中输入
                                        <code>nim --help</code>。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你使用的是前面提到的带有 Code Runner 扩展的
                            VSCode，只需按
                            <code>Ctrl+Alt+N</code>，你的文件就会被编译和运行。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            无论你选择哪种方式运行程序，片刻之后在输出窗口（或终端）中你应该会看到：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Hello World!</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>恭喜，你已经成功运行了你的第一个 Nim 程序！</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            现在你知道如何在屏幕上打印内容（使用
                            <code>echo</code> 命令），编译程序（在终端中输入
                            <code>nim c programName.nim</code
                            >），以及运行它（各种方式）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            现在我们可以开始探索帮助我们编写简单 Nim
                            程序的基本元素了。
                        </p>
                    </div>
                </div>
            </div>
            <h1 id="_naming_values" class="sect0">命名值</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            给程序中的值命名通常很有帮助，这可以帮助我们跟踪各种事物。如果我们向用户询问他/她的名字，我们希望存储它以便以后使用，而不是每次需要进行某些计算时都再次询问。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在示例 <code>pi = 3.14</code> 中，名称
                            <code>pi</code> 与值
                            <code>3.14</code>
                            相关联。根据我们的经验，我们可以知道变量
                            <code>pi</code> 的类型是（小数）数字。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            另一个例子是 <code>firstName = Alice</code>，其中
                            <code>firstName</code> 是变量的名称，值为
                            <code>Alice</code
                            >。我们会说这个变量的类型是一个单词。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在编程语言中，这与之类似。这些名称赋值有它们的<em>名称</em>、<em>值</em>和<em>类型</em>。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_variable_declaration">变量声明</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            Nim 是一种<a
                                href="https://en.wikipedia.org/wiki/Type_system#STATIC"
                                >静态类型</a
                            >编程语言，这意味着在使用值之前需要声明赋值的类型。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在 Nim
                            中，我们还区分可以改变或变化的值和不能改变的值，但稍后会详细介绍。我们可以使用
                            <code>var</code>
                            关键字声明一个变量（可变赋值），只需声明其名称和类型（值可以稍后添加），使用以下语法：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="o">&lt;</span><span class="n">名称</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">类型</span><span class="o">&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>如果我们已经知道它的值，可以立即声明变量并赋值：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="o">&lt;</span><span class="n">名称</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="k">类型</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">值</span><span class="o">&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        尖括号（<code>&lt;&gt;</code>）用于表示你可以更改的内容。<br />
                                        所以
                                        <code>&lt;名称&gt;</code>
                                        不是字面上带尖括号的单词
                                        <code>名称</code>，而是任何名称。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            Nim 还具有<a
                                href="https://en.wikipedia.org/wiki/Type_inference"
                                >类型推断</a
                            >能力：编译器可以从值自动检测名称赋值的类型，而无需显式声明类型。我们将在<a
                                href="#_basic_data_types"
                                >下一章</a
                            >中更多地了解各种类型。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>所以我们可以这样声明变量而不需要显式类型：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="o">&lt;</span><span class="n">名称</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">值</span><span class="o">&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>在 Nim 中的示例如下：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">a</span><span class="p">:</span> <span class="kt">int</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="k">var</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">7</span>   <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        变量 <code>a</code> 的类型是
                                        <code>int</code
                                        >（整数），没有显式设置值。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        变量 <code>b</code> 的值为
                                        <code>7</code>。其类型自动检测为整数。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            在赋值名称时，选择对你的程序有意义的名称很重要。简单地将它们命名为
                            <code>a</code>、<code>b</code>、<code>c</code>
                            等很快就会变得混乱。名称中不能使用空格，因为这会将其分成两个。所以如果你选择的名称由多个单词组成，通常的方式是用
                            <code>camelCase</code
                            >（驼峰式）风格书写（注意名称的第一个字母应该是小写）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            但是请注意，Nim 对大小写和下划线不敏感，这意味着
                            <code>helloWorld</code> 和
                            <code>hello_world</code>
                            是相同的名称。例外是第一个字符，它<em>是</em>区分大小写的。名称也可以包含数字和其他
                            UTF-8
                            字符，如果你愿意，甚至可以包含表情符号，但请记住你和可能的其他人将不得不输入它们。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            不需要为每个变量都输入
                            <code>var</code
                            >，多个变量（不一定是相同类型）可以在同一个
                            <code>var</code> 块中声明。在 Nim
                            中，块是具有相同缩进（第一个字符之前相同数量的空格）的代码部分，默认缩进级别是两个空格。你将在
                            Nim
                            程序的任何地方看到这样的块，不仅仅是用于赋值名称。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">11</span>
  <span class="n">d</span> <span class="o">=</span> <span class="s">"Hello"</span>
  <span class="n">e</span> <span class="o">=</span> <span class="sc">'!'</span></code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        在 Nim 中，制表符不允许作为缩进。<br />
                                        你可以设置代码编辑器将按
                                        <code>Tab</code>
                                        键转换为任意数量的空格。<br />
                                        在 VS Code 中，默认设置是将
                                        <code>Tab</code>
                                        转换为四个空格。这可以在设置（<code>Ctrl+,</code>）中通过设置
                                        <code>"editor.tabSize": 2</code>
                                        轻松覆盖。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            如前所述，变量是可变的，即它们的值可以改变（多次），但它们的类型必须保持与声明时相同。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">7</span>           <i class="conum" data-value="1"></i><b>(1)</b>

<span class="n">f</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>              <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">f</span> <span class="o">=</span> <span class="mi">19</span>
<span class="n">f</span> <span class="o">=</span> <span class="s">"Hello"</span> <span class="c"># 错误 </span><i class="conum" data-value="3"></i><b>(3)</b> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        变量 <code>f</code> 的初始值为
                                        <code>7</code>，其类型被推断为
                                        <code>int</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        <code>f</code> 的值首先改为
                                        <code>-3</code>，然后改为
                                        <code>19</code
                                        >。这两个都是整数，与原始值相同。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        尝试将 <code>f</code> 的值改为
                                        <code>"Hello"</code> 会产生错误，因为
                                        <code>Hello</code> 不是数字，这会将
                                        <code>f</code> 的类型从整数改为字符串。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="4"></i
                                        ><b>4</b>
                                    </td>
                                    <td>
                                        <code># 错误</code> 是注释。Nim
                                        代码中的注释写在
                                        <code>#</code> 字符之后。同一行中
                                        <code>#</code>
                                        之后的所有内容都会被忽略。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_immutable_assignment">不可变赋值</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            与用 <code>var</code> 关键字声明的变量不同，Nim
                            中还有另外两种类型的赋值，它们的值不能改变，一种用
                            <code>const</code> 关键字声明，另一种用
                            <code>let</code> 关键字声明。
                        </p>
                    </div>
                    <div class="sect2">
                        <h3 id="_const">Const</h3>
                        <div class="paragraph">
                            <p>
                                用
                                <code>const</code>
                                关键字声明的不可变赋值的值必须在编译时（程序运行之前）已知。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                例如，我们可以将重力加速度声明为
                                <code>const g = 9.81</code> 或 pi 声明为
                                <code>const pi = 3.14</code
                                >，因为我们事先知道它们的值，并且这些值在程序执行期间不会改变。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">const</span> <span class="n">g</span> <span class="o">=</span> <span class="mi">35</span>
<span class="n">g</span> <span class="o">=</span> <span class="o">-</span><span class="mi">27</span>         <span class="c"># 错误 </span><i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">var</span> <span class="n">h</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="k">const</span> <span class="n">i</span> <span class="o">=</span> <span class="n">h</span> <span class="o">+</span> <span class="mi">7</span> <span class="c"># 错误 </span><i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="1"></i
                                            ><b>1</b>
                                        </td>
                                        <td>常量的值不能被改变。</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="2"></i
                                            ><b>2</b>
                                        </td>
                                        <td>
                                            变量
                                            <code>h</code>
                                            在编译时不被求值（它是一个变量，其值可以在程序执行期间改变），因此常量
                                            <code>i</code>
                                            的值在编译时无法得知，这会引发错误。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                在一些编程语言中，常用做法是用
                                <code>ALL_CAPS</code
                                >（全大写）来书写常量名称。Nim
                                中的常量与任何其他变量的书写方式相同。
                            </p>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_let">Let</h3>
                        <div class="paragraph">
                            <p>
                                用
                                <code>let</code>
                                声明的不可变赋值不需要在编译时已知，它们的值可以在程序执行期间的任何时候设置，但一旦设置，它们的值就不能改变。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">35</span>
<span class="n">j</span> <span class="o">=</span> <span class="o">-</span><span class="mi">27</span> <span class="c"># 错误 </span><i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">var</span> <span class="n">k</span> <span class="o">=</span> <span class="o">-</span><span class="mi">5</span>
<span class="k">let</span> <span class="n">l</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">7</span>   <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="1"></i
                                            ><b>1</b>
                                        </td>
                                        <td>不可变变量的值不能被改变。</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="2"></i
                                            ><b>2</b>
                                        </td>
                                        <td>
                                            与上面的
                                            <code>const</code>
                                            示例不同，这可以正常工作。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                在实践中，你会看到/使用 <code>let</code> 比
                                <code>const</code> 更频繁。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                虽然你可以对所有东西都使用
                                <code>var</code>，但你的默认选择应该是
                                <code>let</code>。只对将被修改的变量使用
                                <code>var</code>。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <h1 id="_basic_data_types" class="sect0">基本数据类型</h1>
            <div class="sect1">
                <h2 id="_integers">整数</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            如前一章所述，整数是没有小数部分且没有小数点的数字。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            例如：<code>32</code>、<code>-174</code>、<code>0</code>、<code
                                >10_000_000</code
                            >
                            都是整数。注意我们可以用
                            <code>_</code>
                            作为千位分隔符，使较大的数字更易读（当写成
                            10_000_000 而不是 10000000 时，更容易看出我们说的是
                            1000 万）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            通常的数学运算符——加法（<code>+</code>）、减法（<code>-</code>）、乘法（<code>*</code>）和除法（<code>/</code>）——工作方式与预期的一样。前三个运算总是产生整数，而两个整数相除总是得到浮点数（带小数点的数字）作为结果，即使两个数可以整除也是如此。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            整数除法（丢弃小数部分的除法）可以用
                            <code>div</code>
                            运算符实现。如果想要整数除法的余数（模），可以使用
                            <code>mod</code> 运算符。这两个运算的结果总是整数。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">integers.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">11</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">echo</span> <span class="s">"a + b = "</span><span class="p">,</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="s">"a - b = "</span><span class="p">,</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<span class="n">echo</span> <span class="s">"a * b = "</span><span class="p">,</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<span class="n">echo</span> <span class="s">"a / b = "</span><span class="p">,</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
<span class="n">echo</span> <span class="s">"a div b = "</span><span class="p">,</span> <span class="n">a</span> <span class="ow">div</span> <span class="n">b</span>
<span class="n">echo</span> <span class="s">"a mod b = "</span><span class="p">,</span> <span class="n">a</span> <span class="ow">mod</span> <span class="n">b</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        <code>echo</code>
                                        命令将打印其后用逗号分隔的所有内容。在这种情况下，它首先打印字符串
                                        <code>a + b = </code
                                        >，然后在同一行打印表达式
                                        <code>a + b</code> 的结果。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>我们可以编译并运行上面的代码，输出应该是：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">a + b = 15
a - b = 7
a * b = 44
a / b = 2.75
a div b = 2
a mod b = 3</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_floats">浮点数</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            浮点数，简称 floats，是实数的<a
                                href="https://en.wikipedia.org/wiki/Floating-point_arithmetic"
                                >近似表示</a
                            >。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            例如：<code>2.73</code>、<code>-3.14</code>、<code>5.0</code>、<code
                                >4e7</code
                            >
                            都是浮点数。注意我们可以对大的浮点数使用科学记数法，其中
                            <code>e</code> 后面的数字是指数。在这个例子中，<code
                                >4e7</code
                            >
                            表示 <code>4 * 10^7</code>。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们也可以在两个浮点数之间使用四种基本数学运算。<code
                                >div</code
                            >
                            和 <code>mod</code> 运算符不适用于浮点数。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">floats.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mf">6.75</span>
  <span class="n">d</span> <span class="o">=</span> <span class="mf">2.25</span>

<span class="n">echo</span> <span class="s">"c + d = "</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span>
<span class="n">echo</span> <span class="s">"c - d = "</span><span class="p">,</span> <span class="n">c</span> <span class="o">-</span> <span class="n">d</span>
<span class="n">echo</span> <span class="s">"c * d = "</span><span class="p">,</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span>
<span class="n">echo</span> <span class="s">"c / d = "</span><span class="p">,</span> <span class="n">c</span> <span class="o">/</span> <span class="n">d</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">c + d = 9.0  <i class="conum" data-value="1"></i><b>(1)</b>
c - d = 4.5
c * d = 15.1875
c / d = 3.0  <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        注意在加法和除法示例中，即使我们得到的是没有小数部分的数字，结果仍然是浮点类型。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            数学运算的优先级与预期一致：乘法和除法的优先级高于加法和减法。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">echo</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">4</span>
<span class="n">echo</span> <span class="mi">24</span> <span class="o">-</span> <span class="mi">8</span> <span class="o">/</span> <span class="mi">4</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">14
22.0</code></pre>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_converting_floats_and_integers">
                            浮点数和整数转换
                        </h3>
                        <div class="paragraph">
                            <p>
                                在 Nim
                                中，不同数值类型的变量之间不能进行数学运算，这会产生错误：
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">e</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="n">f</span> <span class="o">=</span> <span class="mf">23.456</span>

<span class="n">echo</span> <span class="n">e</span> <span class="o">+</span> <span class="n">f</span>   <span class="c"># 错误</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                变量的值需要转换为相同的类型。转换很简单：要转换为整数，使用
                                <code>int</code> 函数；要转换为浮点数，使用
                                <code>float</code> 函数。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">e</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="n">f</span> <span class="o">=</span> <span class="mf">23.987</span>

<span class="n">echo</span> <span class="kt">float</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>      <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="kt">int</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>        <i class="conum" data-value="2"></i><b>(2)</b>

<span class="n">echo</span> <span class="kt">float</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">+</span> <span class="n">f</span>  <i class="conum" data-value="3"></i><b>(3)</b>
<span class="n">echo</span> <span class="n">e</span> <span class="o">+</span> <span class="kt">int</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>    <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="1"></i
                                            ><b>1</b>
                                        </td>
                                        <td>
                                            打印整数 <code>e</code> 的
                                            <code>float</code> 版本。（<code
                                                >e</code
                                            >
                                            仍然是整数类型）
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="2"></i
                                            ><b>2</b>
                                        </td>
                                        <td>
                                            打印浮点数 <code>f</code> 的
                                            <code>int</code> 版本。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="3"></i
                                            ><b>3</b>
                                        </td>
                                        <td>
                                            两个操作数都是浮点数，可以相加。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="4"></i
                                            ><b>4</b>
                                        </td>
                                        <td>两个操作数都是整数，可以相加。</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">5.0
23
28.987
28</code></pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="icon">
                                            <i
                                                class="fa icon-note"
                                                title="注意"
                                            ></i>
                                        </td>
                                        <td class="content">
                                            使用
                                            <code>int</code>
                                            函数将浮点数转换为整数时不会进行四舍五入。数字只是简单地丢弃所有小数。<br />
                                            要进行四舍五入，我们必须调用另一个函数，但为此我们需要对如何使用
                                            Nim 有更多了解。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_characters">字符</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            <code>char</code> 类型用于表示单个
                            <a href="https://en.wikipedia.org/wiki/ASCII"
                                >ASCII</a
                            >
                            字符。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            字符写在两个单引号（<code>'</code>）之间。字符可以是字母、符号或单个数字。多个数字或多个字母会产生错误。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">h</span> <span class="o">=</span> <span class="sc">'z'</span>
  <span class="n">i</span> <span class="o">=</span> <span class="sc">'+'</span>
  <span class="n">j</span> <span class="o">=</span> <span class="sc">'2'</span>
  <span class="n">k</span> <span class="o">=</span> <span class="sc">'35'</span> <span class="c"># 错误</span>
  <span class="n">l</span> <span class="o">=</span> <span class="sc">'xy'</span> <span class="c"># 错误</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_strings">字符串</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            字符串可以描述为一系列字符。它们的内容写在两个双引号（<code>"</code>）之间。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们可能把字符串想象成单词，但它们可以包含多个单词、一些符号或数字。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">strings.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">m</span> <span class="o">=</span> <span class="s">"word"</span>
  <span class="n">n</span> <span class="o">=</span> <span class="s">"A sentence with interpunction."</span>
  <span class="n">o</span> <span class="o">=</span> <span class="s">""</span>    <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">p</span> <span class="o">=</span> <span class="s">"32"</span>  <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="n">q</span> <span class="o">=</span> <span class="s">"!"</span>   <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>空字符串。</td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        这不是数字（int）。它在双引号内，所以是字符串。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        虽然这只是一个字符，但它不是
                                        char，因为它被双引号括起来了。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="sect2">
                        <h3 id="_special_characters">特殊字符</h3>
                        <div class="paragraph">
                            <p>如果我们尝试打印以下字符串：</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="n">echo</span> <span class="s">"some</span><span class="se">\n</span><span class="s">im</span><span class="se">\t</span><span class="s">ips"</span></code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>结果可能会让我们感到惊讶：</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">some
im	ips</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                这是因为有几个字符具有特殊含义。它们通过在前面加上转义字符
                                <code>\</code> 来使用。
                            </p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p><code>\n</code> 是换行符</p>
                                </li>
                                <li>
                                    <p><code>\t</code> 是制表符</p>
                                </li>
                                <li>
                                    <p>
                                        <code>\\</code> 是反斜杠（因为一个
                                        <code>\</code> 用作转义字符）
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p>
                                如果我们想按原样打印上面的示例，我们有两种可能：
                            </p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p>
                                        用 <code>\\</code> 代替
                                        <code>\</code> 来打印反斜杠，或
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        使用原始字符串，语法为
                                        <code>r"…​"</code
                                        >（在第一个引号前立即放一个字母
                                        <code>r</code
                                        >），其中没有转义字符，没有特殊含义：一切都按原样打印。
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="n">echo</span> <span class="s">"some</span><span class="se">\\</span><span class="s">nim</span><span class="se">\\</span><span class="s">tips"</span>
<span class="n">echo</span> <span class="s">r"some\nim\tips"</span></code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">some\nim\tips
some\nim\tips</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                除了上面列出的特殊字符外还有更多，它们都可以在
                                <a
                                    href="https://nim-lang.org/docs/manual.html#lexical-analysis-string-literals"
                                    >Nim 手册</a
                                >中找到。
                            </p>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_string_concatenation">字符串拼接</h3>
                        <div class="paragraph">
                            <p>
                                Nim
                                中的字符串是可变的，意味着它们的内容可以改变。使用
                                <code>add</code>
                                函数，我们可以向现有字符串添加（追加）另一个字符串或一个字符。如果我们不想改变原始字符串，我们也可以用
                                <code>&amp;</code>
                                运算符连接（合并）字符串，这会返回一个新字符串。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="title">stringConcat.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">var</span>                     <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">p</span> <span class="o">=</span> <span class="s">"abc"</span>
  <span class="n">q</span> <span class="o">=</span> <span class="s">"xy"</span>
  <span class="n">r</span> <span class="o">=</span> <span class="sc">'z'</span>

<span class="n">p</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s">"def"</span><span class="p">)</span>            <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="s">"p is now: "</span><span class="p">,</span> <span class="n">p</span>

<span class="n">q</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>                <i class="conum" data-value="3"></i><b>(3)</b>
<span class="n">echo</span> <span class="s">"q is now: "</span><span class="p">,</span> <span class="n">q</span>

<span class="n">echo</span> <span class="s">"concat: "</span><span class="p">,</span> <span class="n">p</span> <span class="o">&amp;</span> <span class="n">q</span>  <i class="conum" data-value="4"></i><b>(4)</b>

<span class="n">echo</span> <span class="s">"p is still: "</span><span class="p">,</span> <span class="n">p</span>
<span class="n">echo</span> <span class="s">"q is still: "</span><span class="p">,</span> <span class="n">q</span></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="1"></i
                                            ><b>1</b>
                                        </td>
                                        <td>
                                            如果我们计划修改字符串，它们应该声明为
                                            <code>var</code>。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="2"></i
                                            ><b>2</b>
                                        </td>
                                        <td>
                                            添加另一个字符串会就地修改现有字符串
                                            <code>p</code>，改变它的值。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="3"></i
                                            ><b>3</b>
                                        </td>
                                        <td>
                                            我们也可以向字符串添加一个
                                            <code>char</code>。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="4"></i
                                            ><b>4</b>
                                        </td>
                                        <td>
                                            连接两个字符串产生一个新字符串，不会修改原始字符串。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">p is now: abcdef
q is now: xyz
concat: abcdefxyz
p is still: abcdef
q is still: xyz</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_boolean">布尔值</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            布尔值（或简称
                            <code>bool</code>）数据类型只能有两个值：<code
                                >true</code
                            >
                            或 <code>false</code>。布尔值通常用于控制流（见<a
                                href="#_control_flow"
                                >下一章</a
                            >），它们通常是关系运算符的结果。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            布尔变量的通常命名约定是将它们写成简单的是/否（真/假）问题，例如
                            <code>isEmpty</code>、<code>isFinished</code>、<code
                                >isMoving</code
                            >
                            等。
                        </p>
                    </div>
                    <div class="sect2">
                        <h3 id="_relational_operators">关系运算符</h3>
                        <div class="paragraph">
                            <p>
                                关系运算符测试两个实体之间的关系，这两个实体必须是可比较的。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                要比较两个值是否相同，使用
                                <code>==</code>（两个等号）。不要将其与
                                <code>=</code>
                                混淆，后者用于赋值，如我们之前所见。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>以下是为整数定义的所有关系运算符：</p>
                        </div>
                        <div class="listingblock">
                            <div class="title">relationalOperators.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">g</span> <span class="o">=</span> <span class="mi">31</span>
  <span class="n">h</span> <span class="o">=</span> <span class="mi">99</span>

<span class="n">echo</span> <span class="s">"g is greater than h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">&gt;</span> <span class="n">h</span>
<span class="n">echo</span> <span class="s">"g is smaller than h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="n">h</span>
<span class="n">echo</span> <span class="s">"g is equal to h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">==</span> <span class="n">h</span>
<span class="n">echo</span> <span class="s">"g is not equal to h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">!=</span> <span class="n">h</span>
<span class="n">echo</span> <span class="s">"g is greater or equal to h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">&gt;=</span> <span class="n">h</span>
<span class="n">echo</span> <span class="s">"g is smaller or equal to h: "</span><span class="p">,</span> <span class="n">g</span> <span class="o">&lt;=</span> <span class="n">h</span></code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">g is greater than h: false
g is smaller than h: true
g is equal to h: false
g is not equal to h: true
g is greater or equal to h: false
g is smaller or equal to h: true</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>我们也可以比较字符和字符串：</p>
                        </div>
                        <div class="listingblock">
                            <div class="title">relationalOperators.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">i</span> <span class="o">=</span> <span class="sc">'a'</span>
  <span class="n">j</span> <span class="o">=</span> <span class="sc">'d'</span>
  <span class="n">k</span> <span class="o">=</span> <span class="sc">'Z'</span>

<span class="n">echo</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">j</span>
<span class="n">echo</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">k</span>  <i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">let</span>
  <span class="n">m</span> <span class="o">=</span> <span class="s">"axyb"</span>
  <span class="n">n</span> <span class="o">=</span> <span class="s">"axyz"</span>
  <span class="n">o</span> <span class="o">=</span> <span class="s">"ba"</span>
  <span class="n">p</span> <span class="o">=</span> <span class="s">"ba "</span>

<span class="n">echo</span> <span class="n">m</span> <span class="o">&lt;</span> <span class="n">n</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">o</span>  <i class="conum" data-value="3"></i><b>(3)</b>
<span class="n">echo</span> <span class="n">o</span> <span class="o">&lt;</span> <span class="n">p</span>  <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="1"></i
                                            ><b>1</b>
                                        </td>
                                        <td>所有大写字母排在小写字母之前。</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="2"></i
                                            ><b>2</b>
                                        </td>
                                        <td>
                                            字符串比较是逐字符进行的。前三个字符相同，字符
                                            <code>b</code> 小于字符
                                            <code>z</code>。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="3"></i
                                            ><b>3</b>
                                        </td>
                                        <td>
                                            如果字符不完全相同，字符串长度对比较没有影响。
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="conum" data-value="4"></i
                                            ><b>4</b>
                                        </td>
                                        <td>较短的字符串小于较长的字符串。</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">true
false
true
true
true</code></pre>
                            </div>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_logical_operators">逻辑运算符</h3>
                        <div class="paragraph">
                            <p>
                                逻辑运算符用于测试由一个或多个布尔值组成的表达式的真假。
                            </p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p>
                                        逻辑 <code>and</code> 只有当两个成员都是
                                        <code>true</code> 时才返回
                                        <code>true</code>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        逻辑
                                        <code>or</code> 如果至少有一个成员是
                                        <code>true</code> 就返回
                                        <code>true</code>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        逻辑 <code>xor</code> 如果一个成员为
                                        true 而另一个不为 true 时返回
                                        <code>true</code>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        逻辑
                                        <code>not</code> 否定其成员的真假：将
                                        <code>true</code> 变为
                                        <code>false</code
                                        >，反之亦然（它是唯一只接受一个操作数的逻辑运算符）
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="listingblock">
                            <div class="title">logicalOperators.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="n">echo</span> <span class="s">"T and T: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">and</span> <span class="kp">true</span>
<span class="n">echo</span> <span class="s">"T and F: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">and</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"F and F: "</span><span class="p">,</span> <span class="kp">false</span> <span class="ow">and</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"---"</span>
<span class="n">echo</span> <span class="s">"T or T: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">or</span> <span class="kp">true</span>
<span class="n">echo</span> <span class="s">"T or F: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">or</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"F or F: "</span><span class="p">,</span> <span class="kp">false</span> <span class="ow">or</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"---"</span>
<span class="n">echo</span> <span class="s">"T xor T: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">xor</span> <span class="kp">true</span>
<span class="n">echo</span> <span class="s">"T xor F: "</span><span class="p">,</span> <span class="kp">true</span> <span class="ow">xor</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"F xor F: "</span><span class="p">,</span> <span class="kp">false</span> <span class="ow">xor</span> <span class="kp">false</span>
<span class="n">echo</span> <span class="s">"---"</span>
<span class="n">echo</span> <span class="s">"not T: "</span><span class="p">,</span> <span class="ow">not</span> <span class="kp">true</span>
<span class="n">echo</span> <span class="s">"not F: "</span><span class="p">,</span> <span class="ow">not</span> <span class="kp">false</span></code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">T and T: true
T and F: false
F and F: false
---
T or T: true
T or F: true
F or F: false
---
T xor T: false
T xor F: true
F xor F: false
---
not T: false
not F: true</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                关系运算符和逻辑运算符可以组合在一起形成更复杂的表达式。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                例如：<code
                                    >(5 &lt; 7) and (11 + 9 == 32 - 2*6)</code
                                >
                                将变成
                                <code>true and (20 == 20)</code>，然后变成
                                <code>true and true</code>，最终给出最终结果
                                <code>true</code>。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_recap">小结</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            这是本教程中最长的章节，我们涵盖了很多内容。花时间仔细研究每种数据类型，并尝试使用它们可以做什么。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            类型起初可能看起来像是一种限制，但它们允许 Nim
                            编译器使你的代码更快，并确保你不会意外做错事——这在大型代码库中尤其有益。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            现在你知道了基本数据类型和对它们的几种操作，这应该足以在
                            Nim
                            中进行一些简单的计算了。通过做以下练习来测试你的知识。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_exercises">练习</h2>
                <div class="sectionbody">
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>
                                    创建一个包含你年龄（以年为单位）的不可变变量。打印你的年龄（以天为单位）。（1年
                                    = 365天）
                                </p>
                            </li>
                            <li>
                                <p>
                                    检查你的年龄是否能被 3 整除。（提示：使用
                                    <code>mod</code>）
                                </p>
                            </li>
                            <li>
                                <p>
                                    创建一个包含你身高（以厘米为单位）的不可变变量。打印你的身高（以英寸为单位）。（1英寸
                                    = 2.54厘米）
                                </p>
                            </li>
                            <li>
                                <p>
                                    一根管道的直径为 3/8
                                    英寸。用厘米表示这个直径。
                                </p>
                            </li>
                            <li>
                                <p>
                                    创建一个包含你名字的不可变变量，再创建一个包含你姓氏的变量。通过连接前两个变量创建变量
                                    <code>fullName</code
                                    >。不要忘记在中间放一个空格。打印你的全名。
                                </p>
                            </li>
                            <li>
                                <p>
                                    Alice 每 15 天赚 $400。Bob 每小时赚
                                    $3.14，每天工作 8 小时，每周工作 7 天。30
                                    天后，Alice 赚的比 Bob
                                    多吗？（提示：使用关系运算符）
                                </p>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
            <h1 id="_control_flow" class="sect0">控制流</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            到目前为止，我们程序中的每一行代码都会在某个时刻被执行。控制流语句允许我们只在满足某些布尔条件时才执行部分代码。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们把程序想象成一条道路，我们可以把控制流想象成各种分支，我们根据某些条件选择走哪条路。例如，我们只有在鸡蛋价格低于某个值时才会买鸡蛋。或者，<em>如果</em>下雨，我们会带伞，<em>否则</em>我们会带太阳镜。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            用<a href="https://en.wikipedia.org/wiki/Pseudocode"
                                >伪代码</a
                            >写，这两个例子看起来像这样：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">if</span> <span class="n">eggPrice</span> <span class="o">&lt;</span> <span class="n">wantedPrice</span><span class="p">:</span>
  <span class="n">buyEggs</span>

<span class="k">if</span> <span class="n">isRaining</span><span class="p">:</span>
  <span class="n">bring</span> <span class="n">umbrella</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">bring</span> <span class="n">sunglasses</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Nim 语法非常相似，你将在下面看到。</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_if_statement">If 语句</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>如上所示的 if 语句是最简单的分支程序的方式。</p>
                    </div>
                    <div class="paragraph">
                        <p>Nim 中编写 if 语句的语法是：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">if</span> <span class="o">&lt;</span><span class="n">条件</span><span class="o">&gt;</span><span class="p">:</span>        <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="o">&lt;</span><span class="n">缩进块</span><span class="o">&gt;</span>       <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        <code>条件</code
                                        >必须是布尔类型：布尔变量或关系和/或逻辑表达式。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        <code>if</code>
                                        行后面所有缩进两个空格的行构成同一个块，只有当条件为
                                        <code>true</code> 时才会执行。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            If 语句可以嵌套，即在一个 if 块内部可以有另一个 if
                            语句。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">if.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">11</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">22</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mi">999</span>

<span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"a is smaller than b"</span>
  <span class="k">if</span> <span class="mi">10</span><span class="o">*</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">echo</span> <span class="s">"not only that, a is *much* smaller than b"</span>

<span class="k">if</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"b is smaller than c"</span>
  <span class="k">if</span> <span class="mi">10</span><span class="o">*</span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">c</span><span class="p">:</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="n">echo</span> <span class="s">"not only that, b is *much* smaller than c"</span>

<span class="k">if</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span> <span class="o">&gt;</span> <span class="n">c</span><span class="p">:</span>     <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="n">echo</span> <span class="s">"a and b are larger than c"</span>
  <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="mi">321</span> <span class="o">&gt;</span> <span class="mi">123</span><span class="p">:</span>  <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="n">echo</span> <span class="s">"did you know that 1 is smaller than 100?"</span>
    <span class="n">echo</span> <span class="s">"and 321 is larger than 123! wow!"</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        第一个条件为真，第二个为假——内部
                                        <code>echo</code> 不执行。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>两个条件都为真，两行都被打印。</td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        第一个条件为假——其块内的所有行都将被跳过，不打印任何内容。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="4"></i
                                        ><b>4</b>
                                    </td>
                                    <td>
                                        在 <code>if</code> 语句中使用逻辑
                                        <code>and</code>。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">a is smaller than b
b is smaller than c
not only that, b is *much* smaller than c</code></pre>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_else">Else</h3>
                        <div class="paragraph">
                            <p>
                                Else 跟在 if 块之后，允许我们有一个当 if
                                语句中的条件不为真时执行的代码分支。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="title">else.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">d</span> <span class="o">=</span> <span class="mi">63</span>
  <span class="n">e</span> <span class="o">=</span> <span class="mf">2.718</span>

<span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"d is a small number"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"d is a large number"</span>

<span class="k">if</span> <span class="n">e</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"e is a small number"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"e is a large number"</span></code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">d is a large number
e is a small number</code></pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="icon">
                                            <i
                                                class="fa icon-note"
                                                title="注意"
                                            ></i>
                                        </td>
                                        <td class="content">
                                            如果你只想在语句为
                                            <code>false</code>
                                            时执行块，可以简单地用
                                            <code>not</code> 运算符否定条件。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="sect2">
                        <h3 id="_elif">Elif</h3>
                        <div class="paragraph">
                            <p>
                                Elif 是 "else if" 的缩写，它使我们能够将多个 if
                                语句链接在一起。
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                程序测试每个语句，直到找到一个为真的语句。之后，所有后续语句都被忽略。
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="title">elif.nim</div>
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="nim"><span class="k">let</span>
  <span class="n">f</span> <span class="o">=</span> <span class="mi">3456</span>
  <span class="n">g</span> <span class="o">=</span> <span class="mi">7</span>

<span class="k">if</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"f is smaller than 10"</span>
<span class="k">elif</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"f is between 10 and 100"</span>
<span class="k">elif</span> <span class="n">f</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"f is between 100 and 1000"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"f is larger than 1000"</span>

<span class="k">if</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"g is smaller than 1000"</span>
<span class="k">elif</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"g is smaller than 100"</span>
<span class="k">elif</span> <span class="n">g</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"g is smaller than 10"</span></code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="rouge highlight"
                                ><code data-lang="output">f is larger than 1000
g is smaller than 1000</code></pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tbody>
                                    <tr>
                                        <td class="icon">
                                            <i
                                                class="fa icon-note"
                                                title="注意"
                                            ></i>
                                        </td>
                                        <td class="content">
                                            在 <code>g</code> 的情况下，即使
                                            <code>g</code>
                                            满足所有三个条件，也只执行第一个分支，自动跳过所有其他分支。
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_case">Case</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            case
                            语句是另一种只选择多个可能路径之一的方式，类似于带有多个
                            <code>elif</code> 的 if 语句。然而，<code
                                >case</code
                            >
                            语句不接受多个布尔条件，而是接受任何具有不同状态的值，并为每个可能的值提供一条路径。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>用 if-elif 块写的代码像这样：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Five!"</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Seven!"</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Ten!"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"unknown number"</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>可以用 case 语句这样写：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">case</span> <span class="n">x</span>
<span class="k">of</span> <span class="mi">5</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Five!"</span>
<span class="k">of</span> <span class="mi">7</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Seven!"</span>
<span class="k">of</span> <span class="mi">10</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"Ten!"</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"unknown number"</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            与 if 语句不同，case
                            语句必须覆盖<em>所有</em>可能的情况。如果对某些情况不感兴趣，可以使用
                            <code>else: discard</code>。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">case.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="sc">'y'</span>

<span class="k">case</span> <span class="n">h</span>
<span class="k">of</span> <span class="sc">'x'</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"You've chosen x"</span>
<span class="k">of</span> <span class="sc">'y'</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"You've chosen y"</span>
<span class="k">of</span> <span class="sc">'z'</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"You've chosen z"</span>
<span class="k">else</span><span class="p">:</span> <span class="k">discard</span>  <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        虽然我们只对
                                        <code>h</code>
                                        的三个值感兴趣，但我们必须包含这一行来覆盖所有其他可能的情况（所有其他字符）。没有它，代码将无法编译。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">You've chosen y</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果对多个值应该执行相同的操作，我们也可以为每个分支使用多个值。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">multipleCase.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">7</span>

<span class="k">case</span> <span class="n">i</span>
  <span class="k">of</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">echo</span> <span class="s">"i is zero"</span>
  <span class="k">of</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span>
    <span class="n">echo</span> <span class="s">"i is odd"</span>
  <span class="k">of</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span>
    <span class="n">echo</span> <span class="s">"i is even"</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">echo</span> <span class="s">"i is too large"</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">i is odd</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <h1 id="_loops" class="sect0">循环</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            循环是另一种控制流结构，允许我们多次运行某些代码部分。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>在本章中，我们将遇到两种循环：</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>for 循环：运行已知次数</p>
                            </li>
                            <li>
                                <p>while 循环：只要满足某个条件就一直运行</p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_for_loop">For 循环</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>for 循环的语法是：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="o">&lt;</span><span class="n">循环变量</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">可迭代对象</span><span class="o">&gt;</span><span class="p">:</span>
  <span class="o">&lt;</span><span class="n">循环体</span><span class="o">&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            传统上，<code>i</code> 经常用作
                            <code>循环变量</code>
                            名称，但也可以使用任何其他名称。该变量只在循环内部可用。一旦循环结束，变量的值就会被丢弃。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            <code>可迭代对象</code
                            >是我们可以遍历的任何对象。在已经提到的类型中，字符串是可迭代对象。（更多可迭代类型将在<a
                                href="#_containers"
                                >下一章</a
                            >介绍。）
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            <code>循环体</code
                            >中的所有行在每次循环时都会执行，这使我们能够高效地编写重复的代码。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们想在 Nim
                            中遍历一个（整数）数字范围，<code>可迭代对象</code>的语法是
                            <code>start .. finish</code>，其中
                            <code>start</code> 和
                            <code>finish</code> 是数字。这将遍历
                            <code>start</code> 和
                            <code>finish</code> 之间的所有数字，包括
                            <code>start</code> 和
                            <code>finish</code>。对于默认的范围迭代，<code
                                >start</code
                            >
                            需要小于 <code>finish</code>。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们想迭代<em>到</em>某个数字（不包括它），可以使用
                            <code>..&lt;</code>：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">for1.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="mi">5</span> <span class="p">..</span> <span class="mi">9</span><span class="p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">echo</span> <span class="n">n</span>

<span class="n">echo</span> <span class="s">""</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="mi">5</span> <span class="p">..</span><span class="o">&lt;</span> <span class="mi">9</span><span class="p">:</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="n">echo</span> <span class="n">n</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        使用
                                        <code>..</code>
                                        遍历数字范围——两端都包含在范围内。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        使用
                                        <code>..&lt;</code>
                                        遍历相同的范围——迭代到较高端，但不包括它。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">5
6
7
8
9

5
6
7
8</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们想以不同于 1 的步长遍历数字范围，使用
                            <code>countup</code>。使用
                            <code>countup</code>
                            我们定义起始值、停止值（包含在范围内）和步长。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">for2.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">countup</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">echo</span> <span class="n">n</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        从零计数到 16，步长为
                                        4。结束值（16）包含在范围内。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">0
4
8
12
16</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            要遍历 <code>start</code> 大于
                            <code>finish</code> 的数字范围，使用类似的函数
                            <code>countdown</code>。即使是倒数，步长也必须为正。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">for2.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">countdown</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>       <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">echo</span> <span class="n">n</span>

<span class="n">echo</span> <span class="s">""</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">countdown</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>  <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="n">echo</span> <span class="n">n</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        要从较大的数迭代到较小的数，我们必须使用
                                        <code>countdown</code>（<code>..</code>
                                        运算符只能在起始值小于结束值时使用）。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>即使是倒数，步长也必须是正数。</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">4
3
2
1
0

-3
-5
-7
-9</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            由于字符串是可迭代的，我们可以使用 for
                            循环遍历字符串的每个字符（这种迭代有时称为
                            <em>for-each</em> 循环）。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">for3.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span> <span class="n">word</span> <span class="o">=</span> <span class="s">"alphabet"</span>

<span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
  <span class="n">echo</span> <span class="n">letter</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">a
l
p
h
a
b
e
t</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们还需要一个迭代计数器（从零开始），可以通过使用
                            <code
                                >for &lt;计数变量&gt;, &lt;循环变量&gt; in
                                &lt;迭代器&gt;:</code
                            >
                            语法来实现。如果你想遍历一个可迭代对象，同时在相同偏移量访问另一个可迭代对象，这非常实用。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">for3.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
  <span class="n">echo</span> <span class="s">"letter "</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s">" is: "</span><span class="p">,</span> <span class="n">letter</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">letter 0 is: a
letter 1 is: l
letter 2 is: p
letter 3 is: h
letter 4 is: a
letter 5 is: b
letter 6 is: e
letter 7 is: t</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_while_loop">While 循环</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            While 循环类似于 if
                            语句，但只要条件保持为真，它们就会继续执行其代码块。当我们事先不知道循环将运行多少次时使用它们。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们必须确保循环会在某个时刻终止，而不会变成<a
                                href="https://en.wikipedia.org/wiki/Infinite_loop"
                                >无限循环</a
                            >。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">while.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">while</span> <span class="n">a</span><span class="o">*</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">echo</span> <span class="s">"a is: "</span><span class="p">,</span> <span class="n">a</span>
  <span class="n">inc</span> <span class="n">a</span>         <i class="conum" data-value="2"></i><b>(2)</b>

<span class="n">echo</span> <span class="s">"final value of a: "</span><span class="p">,</span> <span class="n">a</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        每次进入新循环并执行内部代码之前都会检查这个条件。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        <code>inc</code> 用于将
                                        <code>a</code> 增加 1。它与写
                                        <code>a = a + 1</code> 或
                                        <code>a += 1</code> 相同。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">a is: 1
a is: 2
a is: 3
final value of a: 4</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_break_and_continue">Break 和 Continue</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            <code>break</code>
                            语句用于提前退出循环，通常是当满足某些条件时。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在下一个例子中，如果没有带 <code>break</code> 的 if
                            语句，循环将继续运行并打印直到 <code>i</code> 变成
                            1000。有了 <code>break</code> 语句，当
                            <code>i</code> 变成 3 时，我们立即退出循环（在打印
                            <code>i</code> 的值之前）。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">break.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
    <span class="k">break</span>
  <span class="n">echo</span> <span class="n">i</span>
  <span class="n">inc</span> <span class="n">i</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">1
2</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            <code>continue</code>
                            语句立即开始循环的下一次迭代，而不执行当前迭代的剩余行。注意以下代码的输出中
                            3 和 6 是如何缺失的：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">continue.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">1</span> <span class="p">..</span> <span class="mi">8</span><span class="p">:</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">6</span><span class="p">):</span>
    <span class="k">continue</span>
  <span class="n">echo</span> <span class="n">i</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">1
2
4
5
7
8</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_exercises_2">练习</h2>
                <div class="sectionbody">
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>
                                    <a
                                        href="https://en.wikipedia.org/wiki/Collatz_conjecture"
                                        >科拉茨猜想</a
                                    >是一个规则简单的流行数学问题。首先选一个数。如果是奇数，乘以三加一；如果是偶数，除以二。重复这个过程直到得到一。例如：5
                                    → 奇数 → 3*5 + 1 = 16 → 偶数 → 16 / 2 = 8 →
                                    偶数 → 4 → 2 → 1 → 结束！<br />
                                    选择一个整数（作为可变变量）并创建一个循环，打印科拉茨猜想的每一步。（提示：使用
                                    <code>div</code> 进行除法）
                                </p>
                            </li>
                            <li>
                                <p>
                                    创建一个包含你全名的不可变变量。编写一个 for
                                    循环遍历该字符串并只打印元音字母（a、e、i、o、u）。（提示：使用每个分支有多个值的
                                    <code>case</code> 语句）
                                </p>
                            </li>
                            <li>
                                <p>
                                    <a
                                        href="https://en.wikipedia.org/wiki/Fizz_buzz"
                                        >Fizz buzz</a
                                    >
                                    是一个有时用来测试基本编程知识的儿童游戏。我们从一开始计数。如果数字能被
                                    3 整除，用 <em>fizz</em> 替换它；如果能被 5
                                    整除，用 <em>buzz</em> 替换它；如果能被 15
                                    整除（同时能被 3 和 5 整除），用
                                    <em>fizzbuzz</em>
                                    替换它。前几轮看起来像这样：1, 2, fizz, 4,
                                    buzz, fizz, 7, …<br />
                                    创建一个程序打印 Fizz buzz 的前 30
                                    轮。（提示：注意整除测试的顺序）
                                </p>
                            </li>
                            <li>
                                <p>
                                    在之前的练习中，你已经将英寸转换为厘米，反之亦然。创建一个包含多个值的转换表。例如，表格可能看起来像这样：
                                </p>
                            </li>
                        </ol>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="ow">in</span>	<span class="o">|</span> <span class="n">cm</span>
<span class="o">----------------</span>
<span class="mi">1</span>	<span class="o">|</span> <span class="mf">2.54</span>
<span class="mi">4</span>	<span class="o">|</span> <span class="mf">10.16</span>
<span class="mi">7</span>	<span class="o">|</span> <span class="mf">17.78</span>
<span class="mi">10</span>	<span class="o">|</span> <span class="mf">25.4</span>
<span class="mi">13</span>	<span class="o">|</span> <span class="mf">33.02</span>
<span class="mi">16</span>	<span class="o">|</span> <span class="mf">40.64</span>
<span class="mi">19</span>	<span class="o">|</span> <span class="mf">48.26</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <h1 id="_containers" class="sect0">容器</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            容器是包含元素集合并允许我们访问这些元素的数据类型。通常容器也是可迭代的，意味着我们可以像在<a
                                href="#_loops"
                                >循环章节</a
                            >中使用字符串一样使用它们。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            例如，购物清单是我们要买的物品的容器，质数列表是数字的容器。用伪代码写：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">groceryList</span> <span class="o">=</span> <span class="o">[</span><span class="n">ham</span><span class="p">,</span> <span class="n">eggs</span><span class="p">,</span> <span class="n">bread</span><span class="p">,</span> <span class="n">apples</span><span class="o">]</span>
<span class="n">primes</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="o">]</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_arrays">数组</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            数组是最简单的容器类型。数组是同质的，即数组中的所有元素必须具有相同的类型。数组也具有恒定的大小，意味着元素的数量（或者说：<em>可能的</em>元素数量）必须在编译时已知。这意味着我们称数组为"恒定长度的同质容器"。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            数组类型使用
                            <code>array[&lt;长度&gt;, &lt;类型&gt;]</code>
                            声明，其中
                            <code>长度</code>
                            是数组的总容量（可以容纳的元素数量），<code
                                >类型</code
                            >
                            是所有元素的类型。如果长度和类型都可以从传递的元素推断出来，则可以省略声明。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>数组的元素包含在方括号内。</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">a</span><span class="p">:</span> <span class="kt">array</span><span class="o">[</span><span class="mi">3</span><span class="p">,</span> <span class="kt">int</span><span class="o">]</span> <span class="o">=</span> <span class="o">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="o">]</span>
  <span class="n">b</span> <span class="o">=</span> <span class="o">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="o">]</span>        <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">c</span> <span class="o">=</span> <span class="o">[]</span>  <span class="c"># 错误       </span><i class="conum" data-value="2"></i><b>(2)</b>
  <span class="n">d</span><span class="p">:</span> <span class="kt">array</span><span class="o">[</span><span class="mi">7</span><span class="p">,</span> <span class="kt">string</span><span class="o">]</span>  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        如果我们提供了值，数组
                                        <code>b</code>
                                        的长度和类型在编译时是已知的。虽然正确，但没有必要像数组
                                        <code>a</code> 那样具体声明。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        从这种声明中既无法推断长度也无法推断元素类型——这会产生错误。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        声明空数组（稍后填充）的正确方式是给出其长度和类型，而不提供元素的值——数组
                                        <code>d</code> 可以包含七个字符串。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>由于数组的长度必须在编译时已知，这将不起作用：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">const</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">let</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">var</span> <span class="n">a</span><span class="p">:</span> <span class="kt">array</span><span class="o">[</span><span class="n">m</span><span class="p">,</span> <span class="kt">char</span><span class="o">]</span>
<span class="k">var</span> <span class="n">b</span><span class="p">:</span> <span class="kt">array</span><span class="o">[</span><span class="n">n</span><span class="p">,</span> <span class="kt">char</span><span class="o">]</span> <span class="c"># 错误 </span><i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        这会产生错误，因为 <code>n</code> 是用
                                        <code>let</code>
                                        声明的——它的值在编译时未知。我们只能使用用
                                        <code>const</code>
                                        声明的值作为数组初始化的
                                        <code>长度</code> 参数。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_sequences">序列</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            序列是类似于数组的容器，但它们的长度不需要在编译时已知，并且可以在运行时改变：我们只需用
                            <code>seq[&lt;类型&gt;]</code>
                            声明所包含元素的类型。序列也是同质的，即序列中的每个元素都必须是相同类型。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            序列的元素包含在 <code>@[</code> 和
                            <code>]</code> 之间。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">e1</span><span class="p">:</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span> <span class="o">=</span> <span class="o">@[]</span>   <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">f</span> <span class="o">=</span> <span class="o">@[</span><span class="s">"abc"</span><span class="p">,</span> <span class="s">"def"</span><span class="o">]</span>  <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>空序列的类型必须声明。</td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        非空序列的类型可以被推断。在这种情况下，它是一个包含字符串的序列。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            初始化空序列的另一种方式是调用
                            <code>newSeq</code> 过程。我们将在<a
                                href="#_procedures"
                                >下一章</a
                            >更多地了解过程调用，但现在只需知道这也是一种可能：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">e</span> <span class="o">=</span> <span class="n">newSeq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span><span class="p">()</span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        在方括号内提供类型参数允许过程知道它应该返回某种类型的序列。<br />
                                        一个常见的错误是省略最后的
                                        <code>()</code>，它必须包含在内。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们可以使用
                            <code>add</code>
                            函数向序列添加新元素，类似于我们对字符串所做的。为此，序列必须是可变的（用
                            <code>var</code>
                            定义），并且我们添加的元素必须与序列中的元素类型相同。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">seq.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">g</span> <span class="o">=</span> <span class="o">@[</span><span class="sc">'x'</span><span class="p">,</span> <span class="sc">'y'</span><span class="o">]</span>
  <span class="n">h</span> <span class="o">=</span> <span class="o">@[</span><span class="sc">'1'</span><span class="p">,</span> <span class="sc">'2'</span><span class="p">,</span> <span class="sc">'3'</span><span class="o">]</span>

<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="sc">'z'</span><span class="p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="n">g</span>

<span class="n">h</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>    <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">h</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>添加相同类型（char）的新元素。</td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>添加包含相同类型的另一个序列。</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">@['x', 'y', 'z']
@['1', '2', '3', 'x', 'y', 'z']</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>尝试向现有序列传递不同类型会产生错误：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">i</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">]</span>

<span class="n">i</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mf">9.81</span><span class="p">)</span> <span class="c"># 错误 </span><i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">g</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>    <span class="c"># 错误 </span><i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        尝试向 <code>int</code> 序列添加
                                        <code>float</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        尝试向 <code>char</code> 序列添加
                                        <code>int</code> 序列。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            由于序列的长度可以变化，我们需要一种获取其长度的方法，为此我们可以使用
                            <code>len</code> 函数。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">i</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="o">]</span>
<span class="n">echo</span> <span class="n">i</span><span class="p">.</span><span class="n">len</span>

<span class="n">i</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">echo</span> <span class="n">i</span><span class="p">.</span><span class="n">len</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">3
4</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_indexing_and_slicing">索引和切片</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            索引允许我们通过索引从容器中获取特定元素。把索引想象成容器内的位置。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            Nim
                            和许多其他编程语言一样，使用从零开始的索引，这意味着容器中的第一个元素的索引为零，第二个元素的索引为一，依此类推。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们想"从后面"索引，使用
                            <code>^</code>
                            前缀。最后一个元素（从后面数第一个）的索引为
                            <code>^1</code>。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            索引的语法是
                            <code>&lt;容器&gt;[&lt;索引&gt;]</code>。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">indexing.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span> <span class="n">j</span> <span class="o">=</span> <span class="o">[</span><span class="sc">'a'</span><span class="p">,</span> <span class="sc">'b'</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">,</span> <span class="sc">'d'</span><span class="p">,</span> <span class="sc">'e'</span><span class="o">]</span>

<span class="n">echo</span> <span class="n">j</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>   <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="n">j</span><span class="o">[</span><span class="p">^</span><span class="mi">1</span><span class="o">]</span>  <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        从零开始的索引：索引 1 处的元素是
                                        <code>b</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>获取最后一个元素。</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">b
e</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            切片允许我们一次调用获取一系列元素。它使用与范围相同的语法（在
                            <a href="#_for_loop">for 循环部分</a>介绍过）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果使用
                            <code>start .. stop</code>
                            语法，两端都包含在切片中。使用
                            <code>start ..&lt; stop</code> 语法，<code
                                >stop</code
                            >
                            索引不包含在切片中。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            切片的语法是
                            <code
                                >&lt;容器&gt;[&lt;开始&gt; ..
                                &lt;结束&gt;]</code
                            >。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">indexing.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">echo</span> <span class="n">j</span><span class="o">[</span><span class="mi">0</span> <span class="p">..</span> <span class="mi">3</span><span class="o">]</span>
<span class="n">echo</span> <span class="n">j</span><span class="o">[</span><span class="mi">0</span> <span class="p">..</span><span class="o">&lt;</span> <span class="mi">3</span><span class="o">]</span></code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">@[a, b, c, d]
@[a, b, c]</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            索引和切片都可以用于向现有可变容器和字符串赋新值。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">assign.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span>
  <span class="n">k</span><span class="p">:</span> <span class="kt">array</span><span class="o">[</span><span class="mi">5</span><span class="p">,</span> <span class="kt">int</span><span class="o">]</span>
  <span class="n">l</span> <span class="o">=</span> <span class="o">@[</span><span class="sc">'p'</span><span class="p">,</span> <span class="sc">'w'</span><span class="p">,</span> <span class="sc">'r'</span><span class="o">]</span>
  <span class="n">m</span> <span class="o">=</span> <span class="s">"Tom and Jerry"</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">0</span> <span class="p">..</span> <span class="mi">4</span><span class="p">:</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">k</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">7</span> <span class="o">*</span> <span class="n">i</span>
<span class="n">echo</span> <span class="n">k</span>

<span class="n">l</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="sc">'q'</span>        <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">l</span>

<span class="n">m</span><span class="o">[</span><span class="mi">8</span> <span class="p">..</span> <span class="mi">9</span><span class="o">]</span> <span class="o">=</span> <span class="s">"Ba"</span>  <i class="conum" data-value="3"></i><b>(3)</b>
<span class="n">echo</span> <span class="n">m</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        长度为 5
                                        的数组索引从零到四。我们将为数组的每个元素赋值。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        赋值（改变）序列的第二个元素（索引 1）。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>改变字符串索引 8 和 9 处的字符。</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">[0, 7, 14, 21, 28]
@['p', 'q', 'r']
Tom and Barry</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_tuples">元组</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            我们目前看到的两种容器都是同质的。元组则可以包含异构数据，即元组的元素可以是不同类型。类似于数组，元组具有固定大小。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>元组的元素包含在括号内。</p>
                    </div>
                    <div class="listingblock">
                        <div class="title">tuples.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span> <span class="n">n</span> <span class="o">=</span> <span class="p">(</span><span class="s">"Banana"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="sc">'c'</span><span class="p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="n">n</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        元组可以包含不同类型的字段。在这种情况下：<code>string</code>、<code
                                            >int</code
                                        >
                                        和 <code>char</code>。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">(Field0: "Banana", Field1: 2, Field2: 'c')</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们还可以为元组中的每个字段命名以区分它们。这可以用于访问元组的元素，而不是使用索引。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">tuples.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">o</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s">"Banana"</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">rating</span><span class="p">:</span> <span class="sc">'c'</span><span class="p">)</span>

<span class="n">o</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">7</span>          <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">o</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">"Apple"</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">o</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>使用字段索引改变字段的值。</td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>使用字段名称改变字段的值。</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">(name: "Apple", weight: 7, rating: 'c')</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_exercises_3">练习</h2>
                <div class="sectionbody">
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>创建一个可以包含十个整数的空数组。</p>
                                <div class="ulist">
                                    <ul>
                                        <li>
                                            <p>
                                                用数字 10、20、……、100
                                                填充该数组。（提示：使用循环）
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                只打印该数组中奇数索引处的元素（值
                                                20、40、……）。
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                将偶数索引处的元素乘以
                                                5。打印修改后的数组。
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <p>
                                    重做<a href="#_exercises_2"
                                        >科拉茨猜想练习</a
                                    >，但这次不是打印每一步，而是添加到序列中。
                                </p>
                                <div class="ulist">
                                    <ul>
                                        <li>
                                            <p>
                                                选择一个起始数字。有趣的选择包括
                                                9、19、25 和 27。
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                创建一个只包含该起始数字的序列
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                使用与之前相同的逻辑，继续向序列添加元素直到达到
                                                1
                                            </p>
                                        </li>
                                        <li>
                                            <p>打印序列的长度和序列本身</p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <p>
                                    找出 2 到 100
                                    范围内产生最长科拉茨序列的数字。
                                </p>
                                <div class="ulist">
                                    <ul>
                                        <li>
                                            <p>
                                                对给定范围内的每个数字计算其科拉茨序列
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                如果当前序列的长度比之前的记录长，将当前长度和起始数字保存为新记录（你可以使用元组
                                                <code
                                                    >(longestLength,
                                                    startingNumber)</code
                                                >
                                                或两个独立变量）
                                            </p>
                                        </li>
                                        <li>
                                            <p>
                                                打印产生最长序列的起始数字及其长度
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
            <h1 id="_procedures" class="sect0">过程</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            过程，或者在其他一些编程语言中称为<em>函数</em>，是执行特定任务的代码部分，被打包成一个单元。这样将代码组合在一起的好处是，当我们希望使用过程的代码时，可以<em>调用</em>这些过程，而不是重复编写所有代码。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在前面的章节中，我们在各种不同的场景中研究了科拉茨猜想。通过将科拉茨猜想逻辑包装成一个过程，我们可以为所有练习调用相同的代码。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            到目前为止，我们已经使用了许多内置过程，如用于打印的
                            <code>echo</code>、用于向序列添加元素的
                            <code>add</code>、用于增加整数值的
                            <code>inc</code>、用于获取容器长度的
                            <code>len</code>
                            等。现在我们将学习如何创建和使用自己的过程。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>使用过程的一些优点包括：</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>减少代码重复</p>
                            </li>
                            <li>
                                <p>
                                    代码更易读，因为我们可以按功能命名代码片段
                                </p>
                            </li>
                            <li>
                                <p>将复杂任务分解为更简单的步骤</p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>
                            如本节开头所述，过程在其他语言中通常称为函数。如果我们考虑函数的数学定义，这实际上有点用词不当。数学函数接受一组参数（如
                            <code>f(x, y)</code>，其中
                            <code>f</code> 是函数，<code>x</code> 和
                            <code>y</code>
                            是其参数）并且对于相同的输入<em>总是</em>返回相同的答案。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            而程序中的过程并不总是对给定输入返回相同的输出。有时它们根本不返回任何东西。这是因为我们的计算机程序可以在我们前面提到的变量中存储状态，过程可以读取和改变这些变量。在
                            Nim 中，<code>func</code>
                            这个词目前被保留用作更符合数学正确性的函数，强制没有副作用。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_declaring_a_procedure">声明过程</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            在我们可以使用（调用）过程之前，我们需要创建它并定义它做什么。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            过程使用
                            <code>proc</code>
                            关键字和过程名称声明，后面是括号内的输入参数及其类型，最后是冒号和从过程返回的值的类型，像这样：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="err">&lt;</span><span class="nf">名称</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">参数1</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">类型1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">参数2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">类型2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...):</span> <span class="o">&lt;</span><span class="n">返回类型</span><span class="o">&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            过程的主体写在声明后面附加的
                            <code>=</code> 符号之后的缩进块中。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">callProcs.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">findMax</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="kt">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">x</span>  <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">y</span>
  <span class="c"># 这在过程内部</span>
<span class="c"># 这在过程外部</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        声明一个名为
                                        <code>findMax</code>
                                        的过程，它有两个参数 <code>x</code> 和
                                        <code>y</code>，返回
                                        <code>int</code> 类型。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        要从过程返回值，我们使用
                                        <code>return</code> 关键字。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">echoLanguageRating</span><span class="p">(</span><span class="n">language</span><span class="p">:</span> <span class="kt">string</span><span class="p">)</span> <span class="o">=</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">case</span> <span class="n">language</span>
  <span class="k">of</span> <span class="s">"Nim"</span><span class="p">,</span> <span class="s">"nim"</span><span class="p">,</span> <span class="s">"NIM"</span><span class="p">:</span>
    <span class="n">echo</span> <span class="n">language</span><span class="p">,</span> <span class="s">" is the best language!"</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">echo</span> <span class="n">language</span><span class="p">,</span> <span class="s">" might be a second-best language."</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        <code>echoLanguageRating</code>
                                        过程只输出给定的名称，不返回任何东西，所以不声明返回类型。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            通常我们不允许改变给我们的任何参数。这样做会抛出错误：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">changeArgument</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span>
  <span class="n">argument</span> <span class="o">+=</span> <span class="mi">5</span>

<span class="k">var</span> <span class="n">ourVariable</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">changeArgument</span><span class="p">(</span><span class="n">ourVariable</span><span class="p">)</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            为了使其正常工作，我们需要允许 Nim
                            和使用我们过程的程序员通过将参数声明为变量来改变它：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">changeArgument</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span> <span class="k">var</span> <span class="kt">int</span><span class="p">)</span> <span class="o">=</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">argument</span> <span class="o">+=</span> <span class="mi">5</span>

<span class="k">var</span> <span class="n">ourVariable</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">changeArgument</span><span class="p">(</span><span class="n">ourVariable</span><span class="p">)</span>
<span class="n">echo</span> <span class="n">ourVariable</span>
<span class="n">changeArgument</span><span class="p">(</span><span class="n">ourVariable</span><span class="p">)</span>
<span class="n">echo</span> <span class="n">ourVariable</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        注意 <code>argument</code> 现在声明为
                                        <code>var int</code> 而不仅仅是
                                        <code>int</code>。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">15
20</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            这当然意味着我们传递给它的名称也必须声明为变量，传入用
                            <code>const</code> 或
                            <code>let</code> 赋值的东西会抛出错误。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            虽然最好是将东西作为参数传递，但也可以使用在过程外部声明的名称，包括变量和常量：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>

<span class="k">proc </span><span class="nf">echoX</span><span class="p">()</span> <span class="o">=</span>
  <span class="n">echo</span> <span class="n">x</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>  <i class="conum" data-value="2"></i><b>(2)</b>

<span class="n">echoX</span><span class="p">()</span>
<span class="n">echoX</span><span class="p">()</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        这里我们访问外部变量 <code>x</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        我们也可以更新它的值，因为它被声明为变量。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="mi">100</span>
<span class="mi">101</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_calling_the_procedures">调用过程</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            声明过程后，我们可以调用它。在许多编程语言中调用过程/函数的通常方式是声明其名称并在括号中提供参数，像这样：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="o">&lt;</span><span class="n">过程名</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">参数1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">参数2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...)</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>调用过程的结果可以存储在变量中。</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们想调用上面示例中的
                            <code>findMax</code>
                            过程，并将返回值保存在变量中，可以这样做：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">callProcs.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">let</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">findMax</span><span class="p">(</span><span class="mi">987</span><span class="p">,</span> <span class="mi">789</span><span class="p">)</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">findMax</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="mi">321</span><span class="p">)</span>
  <span class="n">c</span> <span class="o">=</span> <span class="n">findMax</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>

<span class="n">echo</span> <span class="n">a</span>
<span class="n">echo</span> <span class="n">b</span>
<span class="n">echo</span> <span class="n">c</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        函数
                                        <code>findMax</code> 的结果这里命名为
                                        <code>c</code
                                        >，它使用我们前两次调用的结果调用（<code
                                            >findMax(987, 321)</code
                                        >）。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">987
321
987</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            Nim 与许多其他语言不同，还支持<a
                                href="https://en.wikipedia.org/wiki/Uniform_Function_Call_Syntax"
                                >统一函数调用语法</a
                            >，允许以多种不同方式调用过程。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            这是一种调用方式，其中第一个参数写在函数名之前，其余参数在括号中说明：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="o">&lt;</span><span class="n">参数1</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">过程名</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">参数2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...)</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们在向现有序列添加元素时使用了这种语法（<code>&lt;seq&gt;.add(&lt;element&gt;)</code>），因为这使得它更易读，更清楚地表达了我们的意图，而不是写成
                            <code>add(&lt;seq&gt;, &lt;element&gt;)</code
                            >。我们也可以省略参数周围的括号：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="o">&lt;</span><span class="n">过程名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">参数1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">参数2</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们在调用
                            <code>echo</code> 过程时以及在不带任何参数调用
                            <code>len</code>
                            过程时看到了这种风格。这两种也可以组合使用，但这种语法不是很常见：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="o">&lt;</span><span class="n">参数1</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">过程名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">参数2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">参数3</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">...</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>统一调用语法允许更易读的多过程链式调用：</p>
                    </div>
                    <div class="listingblock">
                        <div class="title">ufcs.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">plus</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="k">proc </span><span class="nf">multi</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>
  <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>

<span class="k">let</span>
  <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
  <span class="n">b</span> <span class="o">=</span> <span class="mi">3</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mi">4</span>

<span class="n">echo</span> <span class="n">a</span><span class="p">.</span><span class="n">plus</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="n">plus</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="n">echo</span> <span class="n">c</span><span class="p">.</span><span class="n">multi</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="n">multi</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>


<span class="n">echo</span> <span class="n">a</span><span class="p">.</span><span class="n">plus</span><span class="p">(</span><span class="n">b</span><span class="p">).</span><span class="n">multi</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>  <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">c</span><span class="p">.</span><span class="n">multi</span><span class="p">(</span><span class="n">b</span><span class="p">).</span><span class="n">plus</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        如果多个参数是相同类型，我们可以用这种紧凑的方式声明它们的类型。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        首先将 <code>a</code> 和
                                        <code>b</code> 相加，然后该操作的结果（2
                                        + 3 = 5）作为第一个参数传递给
                                        <code>multi</code> 过程，在那里乘以
                                        <code>c</code>（5 * 4 = 20）。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        首先将 <code>c</code> 和
                                        <code>b</code> 相乘，然后该操作的结果（4
                                        * 3 = 12）作为第一个参数传递给
                                        <code>plus</code> 过程，在那里与
                                        <code>a</code> 相加（12 + 2 = 14）。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">true
true
20
14</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_result_variable">Result 变量</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            在 Nim
                            中，每个返回值的过程都有一个隐式声明和初始化（使用默认值）的
                            <code>result</code>
                            变量。当过程到达其缩进块的末尾时，即使没有
                            <code>return</code> 语句，也会返回这个
                            <code>result</code> 变量的值。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">result.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">findBiggest</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>  <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">number</span> <span class="o">&gt;</span> <span class="n">result</span><span class="p">:</span>
      <span class="n">result</span> <span class="o">=</span> <span class="n">number</span>
  <span class="c"># 过程结束                        </span><i class="conum" data-value="2"></i><b>(2)</b>

<span class="k">let</span> <span class="n">d</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">15</span><span class="o">]</span>
<span class="n">echo</span> <span class="n">findBiggest</span><span class="p">(</span><span class="n">d</span><span class="p">)</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        返回类型是 <code>int</code>。<code
                                            >result</code
                                        >
                                        变量用
                                        <code>int</code>
                                        的默认值初始化：<code>0</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        当过程结束时，返回
                                        <code>result</code> 的值。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">33</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            注意这个过程是为了演示
                            <code>result</code> 变量的，它并不是 100%
                            正确的：如果你传入一个只包含负数的序列，这个过程会返回
                            <code>0</code>（这<em>不</em>包含在序列中）。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="admonitionblock warning">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-warning"
                                            title="警告"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        注意！在旧版本的 Nim（0.19.0
                                        之前）中，字符串和序列的默认值是
                                        <a
                                            href="https://en.wikipedia.org/wiki/Null_pointer"
                                            ><code>nil</code></a
                                        >，当我们将它们用作返回类型时，<code
                                            >result</code
                                        >
                                        变量需要初始化为空字符串（<code>""</code>）或空序列（<code>@[]</code>）。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="title">result.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">keepOdds</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span><span class="p">):</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span> <span class="o">=</span>
  <span class="c"># result = @[]          </span><i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">number</span> <span class="ow">mod</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
      <span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>


<span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">43</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">98</span><span class="o">]</span>
<span class="n">echo</span> <span class="n">keepOdds</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        在 Nim 0.19.0
                                        及更新版本中，这一行不需要——序列自动初始化为空序列。<br />
                                        在旧版本的 Nim
                                        中，序列必须初始化，没有这一行编译器会抛出错误。（注意不能使用
                                        <code>var</code>，因为
                                        <code>result</code> 已经隐式声明了。）
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">@[1, 43, 57]</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>在过程内部我们也可以调用其他过程。</p>
                    </div>
                    <div class="listingblock">
                        <div class="title">filterOdds.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">isDivisibleBy3</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">bool</span> <span class="o">=</span>
  <span class="k">return</span> <span class="n">x</span> <span class="ow">mod</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span>

<span class="k">proc </span><span class="nf">filterMultiplesOf3</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span><span class="p">):</span> <span class="kt">seq</span><span class="o">[</span><span class="kt">int</span><span class="o">]</span> <span class="o">=</span>
  <span class="c"># result = @[]            </span><i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">i</span><span class="p">.</span><span class="n">isDivisibleBy3</span><span class="p">():</span>  <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>


<span class="k">let</span>
  <span class="n">g</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
  <span class="n">h</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">]</span>
  <span class="n">i</span> <span class="o">=</span> <span class="o">@[</span><span class="mi">626</span><span class="p">,</span> <span class="mi">45390</span><span class="p">,</span> <span class="mi">3219</span><span class="p">,</span> <span class="mi">4210</span><span class="p">,</span> <span class="mi">4126</span><span class="o">]</span>

<span class="n">echo</span> <span class="n">filterMultiplesOf3</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="n">echo</span> <span class="n">h</span><span class="p">.</span><span class="n">filterMultiplesOf3</span><span class="p">()</span>
<span class="n">echo</span> <span class="n">filterMultiplesOf3</span> <span class="n">i</span>   <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        再次强调，这一行在新版本的 Nim
                                        中不需要。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        调用之前声明的过程。它的返回类型是
                                        <code>bool</code>，可以在 if
                                        语句中使用。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        第三种调用过程的方式，如我们上面所见。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">@[6, 9, 0, 3]
@[3]
@[45390, 3219]</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_forward_declaration">前向声明</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            如本节开头所述，我们可以声明一个没有代码块的过程。原因是我们必须在调用过程之前声明它们，这样做是行不通的：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">echo</span> <span class="mf">5.</span><span class="n">plus</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c"># 错误      </span><i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">proc </span><span class="nf">plus</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>  <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        这会抛出错误，因为
                                        <code>plus</code> 还没有定义。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        这里我们定义了
                                        <code>plus</code
                                        >，但由于它在我们使用之后，Nim
                                        还不知道它。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>解决这个问题的方法是所谓的前向声明：</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">plus</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span>    <i class="conum" data-value="1"></i><b>(1)</b>

<span class="n">echo</span> <span class="mf">5.</span><span class="n">plus</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>              <i class="conum" data-value="2"></i><b>(2)</b>

<span class="k">proc </span><span class="nf">plus</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span>  <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        这里我们告诉 Nim 应该考虑
                                        <code>plus</code> 过程以这个定义存在。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        现在我们可以在代码中自由使用它，这将正常工作。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        这是实际实现
                                        <code>plus</code>
                                        的地方，这当然必须与我们之前的定义匹配。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_exercises_4">练习</h2>
                <div class="sectionbody">
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>
                                    创建一个过程，根据提供的名称向一个人打招呼（打印
                                    "Hello
                                    &lt;name&gt;"）。创建一个名字序列。使用创建的过程向每个人打招呼。
                                </p>
                            </li>
                            <li>
                                <p>
                                    创建一个过程
                                    <code>findMax3</code
                                    >，返回三个值中的最大值。
                                </p>
                            </li>
                            <li>
                                <p>
                                    2D 平面中的点可以表示为
                                    <code>tuple[x, y: float]</code
                                    >。编写一个过程，接收两个点并返回一个新点，该点是这两个点的和（分别将
                                    x 和 y 相加）。
                                </p>
                            </li>
                            <li>
                                <p>
                                    创建两个过程 <code>tick</code> 和
                                    <code>tock</code>，分别输出单词 "tick" 和
                                    "tock"。使用一个全局变量来跟踪它们运行了多少次，并从一个调用另一个直到计数器达到
                                    20。预期输出是交替出现 "tick" 和 "tock" 各
                                    20 次。（提示：使用前向声明。）
                                </p>
                            </li>
                        </ol>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        如果你进入无限循环，可以按 Ctrl+C
                                        停止程序执行。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>用不同的参数调用所有过程来测试它们。</p>
                    </div>
                </div>
            </div>
            <h1 id="_modules" class="sect0">模块</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            到目前为止，我们使用的功能在每次开始新的 Nim
                            文件时默认都可用。这可以通过模块来扩展，模块为某些特定主题提供更多功能。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>一些最常用的 Nim 模块是：</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>
                                    <code>strutils</code
                                    >：处理字符串时的额外功能
                                </p>
                            </li>
                            <li>
                                <p><code>sequtils</code>：序列的额外功能</p>
                            </li>
                            <li>
                                <p>
                                    <code>math</code
                                    >：数学函数（对数、平方根等）、三角函数（sin、cos
                                    等）
                                </p>
                            </li>
                            <li>
                                <p><code>times</code>：测量和处理时间</p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>
                            但还有很多，无论是在所谓的<a
                                href="https://nim-lang.org/docs/lib.html"
                                >标准库</a
                            >中，还是在
                            <a href="https://nimble.directory/"
                                >nimble 包管理器</a
                            >中。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_importing_a_module">导入模块</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            如果我们想导入一个模块及其所有功能，我们只需在文件中写
                            <code>import &lt;模块名&gt;</code
                            >。这通常在文件顶部完成，以便我们可以轻松看到代码使用了什么。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">stringutils.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">strutils</span>       <i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">let</span>
  <span class="n">a</span> <span class="o">=</span> <span class="s">"My string with whitespace."</span>
  <span class="n">b</span> <span class="o">=</span> <span class="sc">'!'</span>

<span class="n">echo</span> <span class="n">a</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>        <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">a</span><span class="p">.</span><span class="n">toUpperAscii</span><span class="p">()</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="n">echo</span> <span class="n">b</span><span class="p">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>      <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        导入
                                        <a
                                            href="https://nim-lang.org/docs/strutils.html"
                                            >strutils</a
                                        >。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        使用 <code>strutils</code> 模块中的
                                        <code>split</code
                                        >。它将字符串分割成单词序列。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        <code>toUpperAscii</code> 将所有 ASCII
                                        字母转换为大写。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="4"></i
                                        ><b>4</b>
                                    </td>
                                    <td>
                                        <code>repeat</code> 也来自
                                        <code>strutils</code>
                                        模块，它将字符或整个字符串重复请求的次数。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">@["My", "string", "with", "whitespace."]
MY STRING WITH WHITESPACE.
!!!!!</code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="注意"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        对于来自其他编程语言（特别是
                                        Python）的用户来说，Nim
                                        中导入的工作方式可能看起来"不对"。如果是这样，推荐阅读<a
                                            href="https://narimiran.github.io/2019/07/01/nim-import.html"
                                            >这篇文章</a
                                        >。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="listingblock">
                        <div class="title">maths.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">math</span>                 <i class="conum" data-value="1"></i><b>(1)</b>

<span class="k">let</span>
  <span class="n">c</span> <span class="o">=</span> <span class="mf">30.0</span> <span class="c"># 度</span>
  <span class="n">cRadians</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">degToRad</span><span class="p">()</span>   <i class="conum" data-value="2"></i><b>(2)</b>

<span class="n">echo</span> <span class="n">cRadians</span>
<span class="n">echo</span> <span class="n">sin</span><span class="p">(</span><span class="n">cRadians</span><span class="p">).</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <i class="conum" data-value="3"></i><b>(3)</b>

<span class="n">echo</span> <span class="mi">2</span><span class="p">^</span><span class="mi">5</span>                    <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        导入
                                        <a
                                            href="https://nim-lang.org/docs/math.html"
                                            >math</a
                                        >。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        使用
                                        <code>degToRad</code> 将度转换为弧度。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        <code>sin</code>
                                        接受弧度。我们将结果四舍五入（也来自
                                        <code>math</code> 模块）到最多 2
                                        位小数。（否则结果会是：0.4999999999999999）
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="4"></i
                                        ><b>4</b>
                                    </td>
                                    <td>
                                        math 模块也有用于计算数字幂的
                                        <code>^</code> 运算符。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">0.5235987755982988
0.5
32</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_creating_our_own">创建自己的模块</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            很多时候我们在项目中有很多代码，将其分成各自执行某个功能的片段是有意义的。如果你在文件夹中并排创建两个文件，我们称它们为
                            <code>firstFile.nim</code> 和
                            <code>secondFile.nim</code
                            >，你可以从另一个文件作为模块导入一个：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">firstFile.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">proc </span><span class="nf">plus</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">proc </span><span class="nf">minus</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="kt">int</span><span class="p">):</span> <span class="kt">int</span> <span class="o">=</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        注意
                                        <code>plus</code>
                                        过程的名称后面现在有一个星号（<code>*</code>），这告诉
                                        Nim
                                        导入此文件的另一个文件将能够使用这个过程。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        相比之下，当导入此文件时，这不会可见。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="title">secondFile.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">firstFile</span>          <i class="conum" data-value="1"></i><b>(1)</b>

<span class="n">echo</span> <span class="n">plus</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>          <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">minus</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c"># 错误 </span><i class="conum" data-value="3"></i><b>(3)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        这里我们导入
                                        <code>firstFile.nim</code
                                        >。我们不需要在这里写
                                        <code>.nim</code> 扩展名。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        这将正常工作并输出
                                        <code>15</code>，因为它在
                                        <code>firstFile</code>
                                        中声明并对我们可见。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        然而这会抛出错误，因为
                                        <code>minus</code>
                                        过程不可见，因为它的名称后面没有星号。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你有两个以上的文件，你可能想把它们组织在子目录中（或多个子目录中）。使用以下目录结构：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">.
├── myOtherSubdir
│   ├── fifthFile.nim
│   └── fourthFile.nim
├── mySubdir
│   └── thirdFile.nim
├── firstFile.nim
└── secondFile.nim</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果你想在
                            <code>secondFile.nim</code>
                            中导入所有其他文件，你可以这样做：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">secondFile.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">firstFile</span>
<span class="k">import</span> <span class="n">mySubdir</span><span class="o">/</span><span class="n">thirdFile</span>
<span class="k">import</span> <span class="n">myOtherSubdir</span> <span class="o">/</span> <span class="o">[</span><span class="n">fourthFile</span><span class="p">,</span> <span class="n">fifthFile</span><span class="o">]</span></code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <h1 id="_interacting_with_user_input" class="sect0">
                与用户输入交互
            </h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            使用我们目前介绍的内容（基本数据类型和容器、控制流、循环）允许我们制作相当多的简单程序。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            在本章中，我们将学习如何使我们的程序更具交互性。为此，我们需要一个从文件读取数据或请求用户输入的选项。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_reading_from_a_file">从文件读取</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            假设我们有一个名为
                            <code>people.txt</code> 的文本文件，与我们的 Nim
                            代码在同一目录中。该文件的内容如下：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">people.txt</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">Alice</span> <span class="n">A</span><span class="p">.</span>
<span class="n">Bob</span> <span class="n">B</span><span class="p">.</span>
<span class="n">Carol</span> <span class="n">C</span><span class="p">.</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们想在程序中使用该文件的内容，作为名字列表（序列）。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">readFromFile.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">strutils</span>

<span class="k">let</span> <span class="n">contents</span> <span class="o">=</span> <span class="n">readFile</span><span class="p">(</span><span class="s">"people.txt"</span><span class="p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">echo</span> <span class="n">contents</span>

<span class="k">let</span> <span class="n">people</span> <span class="o">=</span> <span class="n">contents</span><span class="p">.</span><span class="n">splitLines</span><span class="p">()</span>    <i class="conum" data-value="2"></i><b>(2)</b>
<span class="n">echo</span> <span class="n">people</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        要读取文件内容，我们使用
                                        <code>readFile</code>
                                        过程，并提供要读取的文件的路径（如果文件与我们的
                                        Nim
                                        程序在同一目录中，只需提供文件名即可）。结果是一个多行字符串。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        要将多行字符串分割成字符串序列（每个字符串包含一行的所有内容），我们使用
                                        <code>strutils</code> 模块中的
                                        <code>splitLines</code>。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Alice A.
Bob B.
Carol C.
            <i class="conum" data-value="1"></i><b>(1)</b>
@["Alice A.", "Bob B.", "Carol C.", ""] <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        原始文件中有一个最终换行符（空的最后一行），这里也存在。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        由于最终换行符，我们的序列比预期/想要的长。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>
                            为了解决最终换行符的问题，我们可以在读取文件后使用
                            <code>strutils</code> 中的
                            <code>strip</code>
                            过程。它所做的就是从字符串的开头和结尾移除所谓的空白字符。空白字符只是产生一些空间的字符，换行符、空格、制表符等。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">readFromFile2.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">strutils</span>

    <span class="k">let</span> <span class="n">contents</span> <span class="o">=</span> <span class="n">readFile</span><span class="p">(</span><span class="s">"people.txt"</span><span class="p">).</span><span class="n">strip</span><span class="p">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">echo</span> <span class="n">contents</span>

    <span class="k">let</span> <span class="n">people</span> <span class="o">=</span> <span class="n">contents</span><span class="p">.</span><span class="n">splitLines</span><span class="p">()</span>
    <span class="n">echo</span> <span class="n">people</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        使用
                                        <code>strip</code> 可以得到预期的结果。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Alice A.
    Bob B.
    Carol C.
    @["Alice A.", "Bob B.", "Carol C."]</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_reading_user_input">读取用户输入</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            如果我们想与用户交互，就必须能够让他们输入内容，然后处理和使用它。我们需要通过将
                            <code>stdin</code> 传递给
                            <code>readLine</code> 过程来从<a
                                href="https://en.wikipedia.org/wiki/Standard_streams#Standard_input_(stdin)"
                                >标准输入 (stdin)</a
                            >
                            读取。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">interaction1.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="n">echo</span> <span class="s">"Please enter your name:"</span>
    <span class="k">let</span> <span class="n">name</span> <span class="o">=</span> <span class="n">readLine</span><span class="p">(</span><span class="n">stdin</span><span class="p">)</span>  <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="n">echo</span> <span class="s">"Hello "</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="s">", nice to meet you!"</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        <code>name</code> 的类型被推断为字符串。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Please enter your name:
            <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        等待用户输入。在我们输入名字并按
                                        <code>Enter</code> 后，程序将继续执行。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Please enter your name:
    Alice
    Hello Alice, nice to meet you!</code></pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tbody>
                                <tr>
                                    <td class="icon">
                                        <i
                                            class="fa icon-note"
                                            title="Note"
                                        ></i>
                                    </td>
                                    <td class="content">
                                        如果你使用的是旧版本的 VS
                                        Code，你不能用通常的方式运行这个程序（使用
                                        <code>Ctrl+Alt+N</code
                                        >），因为输出窗口不允许用户输入——你需要在终端中运行这些示例。<br />较新版本的
                                        VS Code 没有这个限制。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_dealing_with_numbers">处理数字</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            从文件或用户输入读取的结果始终是字符串。如果我们想使用数字，需要将字符串转换为数字：我们再次使用
                            <code>strutils</code> 模块，使用
                            <code>parseInt</code> 转换为整数或
                            <code>parseFloat</code> 转换为浮点数。
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">interaction2.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">strutils</span>

    <span class="n">echo</span> <span class="s">"Please enter your year of birth:"</span>
    <span class="k">let</span> <span class="n">yearOfBirth</span> <span class="o">=</span> <span class="n">readLine</span><span class="p">(</span><span class="n">stdin</span><span class="p">).</span><span class="n">parseInt</span><span class="p">()</span> <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="k">let</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">2018</span> <span class="o">-</span> <span class="n">yearOfBirth</span>

    <span class="n">echo</span> <span class="s">"You are "</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="s">" years old."</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        将字符串转换为整数。这样写的话，我们信任用户会输入有效的整数。如果用户输入
                                        <code>'79</code> 或
                                        <code>ninety-three</code>
                                        会发生什么？自己试试看。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">Please enter your year of birth:
    1934
    You are 84 years old.</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            如果我们在与 Nim 代码相同的目录中有一个
                            <code>numbers.txt</code> 文件，内容如下：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">numbers.txt</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="mf">27.3</span>
    <span class="mf">98.24</span>
    <span class="mf">11.93</span>
    <span class="mf">33.67</span>
    <span class="mf">55.01</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            我们想读取该文件并找到所提供数字的总和和平均值，可以这样做：
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="title">interaction3.nim</div>
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="nim"><span class="k">import</span> <span class="n">strutils</span><span class="p">,</span> <span class="n">sequtils</span><span class="p">,</span> <span class="n">math</span>        <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="k">let</span>
      <span class="n">strNums</span> <span class="o">=</span> <span class="n">readFile</span><span class="p">(</span><span class="s">"numbers.txt"</span><span class="p">).</span><span class="n">strip</span><span class="p">().</span><span class="n">splitLines</span><span class="p">()</span>  <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="n">nums</span> <span class="o">=</span> <span class="n">strNums</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">parseFloat</span><span class="p">)</span>       <i class="conum" data-value="3"></i><b>(3)</b>

    <span class="k">let</span>
      <span class="n">sumNums</span> <span class="o">=</span> <span class="n">sum</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span>                  <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="n">average</span> <span class="o">=</span> <span class="n">sumNums</span> <span class="o">/</span> <span class="kt">float</span><span class="p">(</span><span class="n">nums</span><span class="p">.</span><span class="n">len</span><span class="p">)</span>  <i class="conum" data-value="5"></i><b>(5)</b>

    <span class="n">echo</span> <span class="n">sumNums</span>
    <span class="n">echo</span> <span class="n">average</span></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tbody>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="1"></i
                                        ><b>1</b>
                                    </td>
                                    <td>
                                        我们导入多个模块。<code>strutils</code>
                                        提供 <code>strip</code> 和
                                        <code>splitLines</code>，<code
                                            >sequtils</code
                                        >
                                        提供 <code>map</code>，<code>math</code>
                                        提供 <code>sum</code>。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="2"></i
                                        ><b>2</b>
                                    </td>
                                    <td>
                                        我们去除最后的换行符，并分割行以创建字符串序列。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="3"></i
                                        ><b>3</b>
                                    </td>
                                    <td>
                                        <code>map</code>
                                        的工作方式是对容器的每个成员应用一个过程（在本例中是
                                        <code>parseFloat</code
                                        >）。换句话说，我们将每个字符串转换为浮点数，返回一个新的浮点数序列。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="4"></i
                                        ><b>4</b>
                                    </td>
                                    <td>
                                        使用 <code>math</code> 模块中的
                                        <code>sum</code>
                                        给出序列中所有元素的总和。
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="conum" data-value="5"></i
                                        ><b>5</b>
                                    </td>
                                    <td>
                                        我们需要将序列长度转换为浮点数，因为
                                        <code>sumNums</code> 是浮点数。
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="rouge highlight"
                            ><code data-lang="output">226.15
    45.23</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_exercises_5">练习</h2>
                <div class="sectionbody">
                    <div class="olist arabic">
                        <ol class="arabic">
                            <li>
                                <p>
                                    询问用户的身高和体重。计算他们的
                                    <a
                                        href="https://en.wikipedia.org/wiki/Body_mass_index"
                                        >BMI</a
                                    >（身体质量指数）。报告 BMI 值和类别。
                                </p>
                            </li>
                            <li>
                                <p>
                                    重做<a href="#_exercises_2"
                                        >科拉茨猜想练习</a
                                    >，让你的程序询问用户起始数字。打印结果序列。
                                </p>
                            </li>
                            <li>
                                <p>
                                    询问用户想要反转的字符串。创建一个接受字符串并返回反转版本的过程。例如，如果用户输入
                                    <code>Nim-lang</code>，过程应该返回
                                    <code>gnal-miN</code>。（提示：使用索引和
                                    <code>countdown</code>）
                                </p>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
            <h1 id="_conclusion" class="sect0">结论</h1>
            <div class="openblock partintro">
                <div class="content">
                    <div class="paragraph">
                        <p>
                            是时候结束这个教程了。希望这对你有用，你已经成功迈出了编程和/或
                            Nim 编程语言的第一步。
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            这些只是基础知识，我们只触及了表面，但这应该足以让你能够编写简单的程序并解决一些简单的任务或谜题。Nim
                            还有很多可以提供的东西，希望你能继续探索它的可能性。
                        </p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <h2 id="_next_steps">下一步</h2>
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>如果你想继续从 Nim 教程中学习：</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>
                                    <a
                                        href="https://nim-lang.org/docs/tut1.html"
                                        >官方 Nim 教程</a
                                    >
                                </p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://nim-by-example.github.io/"
                                        >Nim by example</a
                                    >
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>如果你想解决一些编程谜题：</p>
                    </div>
                    <div class="ulist">
                        <ul>
                            <li>
                                <p>
                                    <a href="http://adventofcode.com/"
                                        >Advent of Code</a
                                    >：每年12月发布的一系列有趣谜题。旧谜题的存档（从2015年开始）可用。
                                </p>
                            </li>
                            <li>
                                <p>
                                    <a href="https://projecteuler.net/"
                                        >Project Euler</a
                                    >：主要是数学任务。
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>祝编程愉快！</p>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <hr />
                    <div class="paragraph">
                        <p>&nbsp;</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            源文件可在
                            <a href="https://github.com/narimiran/nim-basics"
                                >Github</a
                            >
                            上获取。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
